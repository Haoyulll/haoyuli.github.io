<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:300,300italic,400,400italic,700,700italic|Open Sans:300,300italic,400,400italic,700,700italic|Roboto Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"haoyulll.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="1.Two Sumhttps:&#x2F;&#x2F;leetcode.com&#x2F;problems&#x2F;two-sum&#x2F;  solution 1: time complexity: O(n^2^) — n to the power of 2 Space complexity: O(1)  double for loop 1234567891011&amp;#x27;&amp;#x27;&amp;#x27;python solution&amp;#x27">
<meta property="og:type" content="article">
<meta property="og:title" content="Leetcode">
<meta property="og:url" content="https://haoyulll.github.io/2022/12/05/Leetcode/index.html">
<meta property="og:site_name" content="Haoyu Li&#39;s note">
<meta property="og:description" content="1.Two Sumhttps:&#x2F;&#x2F;leetcode.com&#x2F;problems&#x2F;two-sum&#x2F;  solution 1: time complexity: O(n^2^) — n to the power of 2 Space complexity: O(1)  double for loop 1234567891011&amp;#x27;&amp;#x27;&amp;#x27;python solution&amp;#x27">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://haoyulll.github.io/2022/12/05/Leetcode/2.png">
<meta property="og:image" content="https://haoyulll.github.io/2022/12/05/Leetcode/3.png">
<meta property="og:image" content="https://haoyulll.github.io/2022/12/05/Leetcode/4.png">
<meta property="og:image" content="https://haoyulll.github.io/2022/12/05/Leetcode/5.png">
<meta property="og:image" content="https://haoyulll.github.io/2022/12/05/Leetcode/6.png">
<meta property="og:image" content="https://haoyulll.github.io/2022/12/05/Leetcode/8.png">
<meta property="og:image" content="https://haoyulll.github.io/2022/12/05/Leetcode/9.png">
<meta property="og:image" content="https://haoyulll.github.io/2022/12/05/Leetcode/10.png">
<meta property="og:image" content="https://haoyulll.github.io/2022/12/05/Leetcode/11.png">
<meta property="og:image" content="https://haoyulll.github.io/2022/12/05/Leetcode/12.png">
<meta property="og:image" content="https://haoyulll.github.io/2022/12/05/Leetcode/13.png">
<meta property="og:image" content="https://haoyulll.github.io/2022/12/05/Leetcode/14.png">
<meta property="og:image" content="https://haoyulll.github.io/2022/12/05/Leetcode/15.png">
<meta property="og:image" content="https://haoyulll.github.io/2022/12/05/Leetcode/16.png">
<meta property="article:published_time" content="2022-12-05T04:55:02.000Z">
<meta property="article:modified_time" content="2023-02-11T13:58:55.300Z">
<meta property="article:author" content="Haoyu Li">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://haoyulll.github.io/2022/12/05/Leetcode/2.png">

<link rel="canonical" href="https://haoyulll.github.io/2022/12/05/Leetcode/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Leetcode | Haoyu Li's note</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
    <a target="_blank" rel="noopener" href="https://github.com/Haoyulll" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Haoyu Li's note</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>Schedule</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://haoyulll.github.io/2022/12/05/Leetcode/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Haoyu Li">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Haoyu Li's note">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Leetcode
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-12-05 15:55:02" itemprop="dateCreated datePublished" datetime="2022-12-05T15:55:02+11:00">2022-12-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-02-12 00:58:55" itemprop="dateModified" datetime="2023-02-12T00:58:55+11:00">2023-02-12</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <span id="more"></span>
<h1 id="1-Two-Sum"><a href="#1-Two-Sum" class="headerlink" title="1.Two Sum"></a>1.Two Sum</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/two-sum/">https://leetcode.com/problems/two-sum/</a></p>
<blockquote>
<p>solution 1:</p>
<p>time complexity: O(n^2^) — n to the power of 2</p>
<p>Space complexity: O(1)</p>
</blockquote>
<p>double for loop</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">python solution</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">twoSum</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:    </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">          <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i, <span class="built_in">len</span>(nums)):</span><br><span class="line">            <span class="keyword">if</span> nums[i] + nums[j] == target:</span><br><span class="line">              <span class="keyword">return</span> [nums[i], nums[j]]</span><br><span class="line">            </span><br></pre></td></tr></table></figure>
<blockquote>
<p>solution 2:</p>
<p>time complexity: O(n)</p>
<p>Space complexity: O(n)</p>
</blockquote>
<p>In this solution, we simlify the inner for loop. The second for loop can be understanded as: we got sub-target by subtracting nums[i] from target. To find whether the sub-target exist in the nums list, we can using hash table to minimize time-complexity, because the cost of finding element in hashtable is O(1). we store each val in nums as hash table key, and the corresponding index as hash table value.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">python solution</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">twoSum</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:    </span><br><span class="line">        pairs = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> idx, val <span class="keyword">in</span> <span class="built_in">enumerate</span>(nums):</span><br><span class="line">            pairs[val] = idx</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">            sub = target - nums[i]</span><br><span class="line">            <span class="keyword">if</span> sub <span class="keyword">in</span> pairs.keys() <span class="keyword">and</span> pairs[sub] != i:</span><br><span class="line">                <span class="keyword">return</span> [i, pairs[sub]]</span><br><span class="line">            </span><br></pre></td></tr></table></figure>
<blockquote>
<p>solution 3:</p>
<p>time complexity: O(n)</p>
<p>Space complexity: O(n)</p>
</blockquote>
<p>In the solution 2, we need to double check if the val index we find is the current value. And we also use 2 loops, the first one is for creating hashtable. We can do furthur simplification by building the hash table while finding the value, which ends with only one loop is needed.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">twoSum</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span><br><span class="line">        </span><br><span class="line">        pairs = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> idx, val <span class="keyword">in</span> <span class="built_in">enumerate</span>(nums):</span><br><span class="line">            sub = target - nums[idx]</span><br><span class="line">            <span class="keyword">if</span> sub <span class="keyword">in</span> pairs.keys():</span><br><span class="line">                <span class="keyword">return</span> [idx, pairs[sub]]</span><br><span class="line">                 </span><br><span class="line">            pairs[val] = idx</span><br></pre></td></tr></table></figure>
<h1 id="2-Add-Two-Numbers"><a href="#2-Add-Two-Numbers" class="headerlink" title="2.Add Two Numbers"></a>2.Add Two Numbers</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/add-two-numbers/">https://leetcode.com/problems/add-two-numbers/</a></p>
<p>Brief Description:</p>
<p>Normally we calculate the sum of two numbers, carry is to the left and numbers are right-aligned. But in this question, we do carry to the right and numbers are left-aligned.</p>
<blockquote>
<p>solution 1:</p>
<p>time complexity: O(max(l1, l2))</p>
<p>Space complexity: store 3 singly-linked list: for each O（max（m，n））+ 1</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, next=None):</span></span><br><span class="line"><span class="comment">#         self.val = val</span></span><br><span class="line"><span class="comment">#         self.next = next</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">addTwoNumbers</span>(<span class="params">self, l1: <span class="type">Optional</span>[ListNode], l2: <span class="type">Optional</span>[ListNode]</span>) -&gt; <span class="type">Optional</span>[ListNode]:</span><br><span class="line">        start = ListNode()</span><br><span class="line">        result = start</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            res = l1.val + l2.val + result.val</span><br><span class="line">            </span><br><span class="line">            PLUS = <span class="literal">False</span></span><br><span class="line">            <span class="keyword">if</span> res &lt; <span class="number">10</span>:</span><br><span class="line">                result.val = res</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment">## plus 1 to the next pos</span></span><br><span class="line">                result.val = res % <span class="number">10</span></span><br><span class="line">                PLUS = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">            l1 = l1.<span class="built_in">next</span></span><br><span class="line">            l2 = l2.<span class="built_in">next</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> PLUS:</span><br><span class="line">                result.<span class="built_in">next</span> = ListNode()</span><br><span class="line">                result = result.<span class="built_in">next</span></span><br><span class="line">                result.val +=<span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> l1 <span class="keyword">or</span> <span class="keyword">not</span> l2:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> l1 <span class="keyword">and</span> l2:</span><br><span class="line">                    result.<span class="built_in">next</span> = ListNode()</span><br><span class="line">                    result = result.<span class="built_in">next</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">        </span><br><span class="line">        remain = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">if</span> l1:</span><br><span class="line">            remain = l1</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> l2:</span><br><span class="line">            remain = l2</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> remain:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> PLUS:</span><br><span class="line">                result.<span class="built_in">next</span> = ListNode()</span><br><span class="line">                result = result.<span class="built_in">next</span></span><br><span class="line">                 </span><br><span class="line">            <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                PPLUS = <span class="literal">False</span></span><br><span class="line">                res = result.val + remain.val</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> res &gt;= <span class="number">10</span>:</span><br><span class="line">                    result.val = res % <span class="number">10</span></span><br><span class="line">                    PPLUS = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    result.val = res</span><br><span class="line"></span><br><span class="line">                remain = remain.<span class="built_in">next</span></span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> PPLUS:</span><br><span class="line">                    result.<span class="built_in">next</span> = ListNode()</span><br><span class="line">                    result = result.<span class="built_in">next</span></span><br><span class="line">                    result.val +=<span class="number">1</span></span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> remain:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">if</span> remain:</span><br><span class="line">                        result.<span class="built_in">next</span> = ListNode()</span><br><span class="line">                        result = result.<span class="built_in">next</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                     </span><br><span class="line">        <span class="keyword">return</span> start</span><br></pre></td></tr></table></figure>
<blockquote>
<p>solution 2:</p>
<p>time complexity: O(max(l1, l2))</p>
<p>Space complexity: store 2 singly-linked list: for each O（max（m，n））+ 1</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, next=None):</span></span><br><span class="line"><span class="comment">#         self.val = val</span></span><br><span class="line"><span class="comment">#         self.next = next</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">addTwoNumbers</span>(<span class="params">self, l1: <span class="type">Optional</span>[ListNode], l2: <span class="type">Optional</span>[ListNode]</span>) -&gt; <span class="type">Optional</span>[ListNode]:</span><br><span class="line">        </span><br><span class="line">        <span class="comment">## return l2 at the end</span></span><br><span class="line">        start = l2</span><br><span class="line">        CHECKL2 = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">while</span> l1:</span><br><span class="line">            l2.val = l1.val + l2.val</span><br><span class="line"></span><br><span class="line">            PLUS = <span class="literal">False</span></span><br><span class="line">            <span class="keyword">if</span> l2.val &gt;= <span class="number">10</span>:</span><br><span class="line">                l2.val = l2.val % <span class="number">10</span></span><br><span class="line">                PLUS = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">            l1 = l1.<span class="built_in">next</span> </span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> PLUS:</span><br><span class="line">                <span class="keyword">if</span> l2.<span class="built_in">next</span>:</span><br><span class="line">                    l2 = l2.<span class="built_in">next</span></span><br><span class="line">                    l2.val += <span class="number">1</span></span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> l1:</span><br><span class="line">                        <span class="comment">## l2 is longer than l1</span></span><br><span class="line">                        CHECKL2 = <span class="literal">True</span>     </span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    l2.<span class="built_in">next</span> = ListNode()</span><br><span class="line">                    l2 = l2.<span class="built_in">next</span></span><br><span class="line">                    l2.val += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> l1:</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> l2.<span class="built_in">next</span>:</span><br><span class="line">                        l2.<span class="built_in">next</span> = ListNode()</span><br><span class="line">                        l2 = l2.<span class="built_in">next</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        l2 = l2.<span class="built_in">next</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> CHECKL2:</span><br><span class="line">            <span class="keyword">while</span> l2:</span><br><span class="line">                <span class="keyword">if</span> l2.val &gt;= <span class="number">10</span>:</span><br><span class="line">                    l2.val = l2.val % <span class="number">10</span></span><br><span class="line">                    <span class="keyword">if</span> l2.<span class="built_in">next</span>:</span><br><span class="line">                        l2 = l2.<span class="built_in">next</span></span><br><span class="line">                        l2.val += <span class="number">1</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        l2.<span class="built_in">next</span> = ListNode()</span><br><span class="line">                        l2 = l2.<span class="built_in">next</span></span><br><span class="line">                        l2.val += <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    l2 = l2.<span class="built_in">next</span></span><br><span class="line">            </span><br><span class="line">                         </span><br><span class="line">        <span class="keyword">return</span> start</span><br></pre></td></tr></table></figure>
<blockquote>
<p>extension:</p>
<p>what of the digits in the linked list are stored in non-reversed order?</p>
<p>For example:</p>
<p>(3 -&gt; 4 -&gt; 2) + (4 -&gt; 6 -&gt; 5) = 8 -&gt; 0 -&gt; 7</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Optional</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ListNode</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, val=<span class="number">0</span>, <span class="built_in">next</span>=<span class="literal">None</span></span>):</span><br><span class="line">        self.val = val</span><br><span class="line">        self.<span class="built_in">next</span> = <span class="built_in">next</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CreateList</span>:</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    input arr </span></span><br><span class="line"><span class="string">    output singly-linked list</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create</span>(<span class="params">self, arr</span>):</span><br><span class="line">        curr = ListNode()</span><br><span class="line">        head = curr</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(arr)):</span><br><span class="line">            curr.val = arr[i]</span><br><span class="line">            <span class="keyword">if</span> i != <span class="built_in">len</span>(arr)-<span class="number">1</span>:</span><br><span class="line">                curr.<span class="built_in">next</span> = ListNode()</span><br><span class="line">                curr = curr.<span class="built_in">next</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> head</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    display singly-linked list</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">display</span>(<span class="params">self, l</span>):</span><br><span class="line">        <span class="keyword">while</span> l:</span><br><span class="line">            <span class="built_in">print</span>(l.val)</span><br><span class="line">            l = l.<span class="built_in">next</span></span><br><span class="line">        </span><br><span class="line">                        </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    reversed singly-linked list</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment">## Optional[X] is equivalent to X | None (or Union[X, None]).</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">reverseSinglyList</span>(<span class="params">self, l: <span class="type">Optional</span>[ListNode]</span>) -&gt; <span class="type">Optional</span>[ListNode]:</span><br><span class="line">        pre = <span class="literal">None</span></span><br><span class="line">        curr = l</span><br><span class="line">        nxt = l.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            curr.<span class="built_in">next</span> = pre</span><br><span class="line">            pre = curr</span><br><span class="line">            curr = nxt</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> curr:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            nxt = curr.<span class="built_in">next</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">addTwoNumbers</span>(<span class="params">self, l1: <span class="type">Optional</span>[ListNode], l2: <span class="type">Optional</span>[ListNode]</span>) -&gt; <span class="type">Optional</span>[ListNode]:</span><br><span class="line">        CHECKL2 = <span class="literal">False</span></span><br><span class="line">        pre = <span class="literal">None</span></span><br><span class="line">        nxt = l2.<span class="built_in">next</span></span><br><span class="line">        <span class="comment"># l2 -- curr</span></span><br><span class="line">        <span class="keyword">while</span> l1:</span><br><span class="line">            l2.val = l1.val + l2.val</span><br><span class="line"></span><br><span class="line">            PLUS = <span class="literal">False</span></span><br><span class="line">            <span class="keyword">if</span> l2.val &gt;= <span class="number">10</span>:</span><br><span class="line">                l2.val = l2.val % <span class="number">10</span></span><br><span class="line">                PLUS = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">            l1 = l1.<span class="built_in">next</span> </span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> PLUS:</span><br><span class="line">                <span class="keyword">if</span> nxt:</span><br><span class="line">                    l2.<span class="built_in">next</span> = pre</span><br><span class="line">                    pre = l2</span><br><span class="line">                    l2 = nxt</span><br><span class="line">                    nxt = l2.<span class="built_in">next</span></span><br><span class="line">                  </span><br><span class="line">                    l2.val += <span class="number">1</span></span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> l1:</span><br><span class="line">                        <span class="comment">## l2 is longer than l1</span></span><br><span class="line">                        CHECKL2 = <span class="literal">True</span>     </span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    l2.<span class="built_in">next</span> = pre</span><br><span class="line">                    pre = l2</span><br><span class="line">                    l2 = ListNode()</span><br><span class="line">                    <span class="comment"># nxt remains None</span></span><br><span class="line">                    l2.val += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> l1:</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> nxt:</span><br><span class="line">                        l2.<span class="built_in">next</span> = pre</span><br><span class="line">                        pre = l2</span><br><span class="line">                        l2 = ListNode()</span><br><span class="line">                        <span class="comment"># nxt remains None</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        <span class="comment"># l2 = l2.next</span></span><br><span class="line">                        l2.<span class="built_in">next</span> = pre</span><br><span class="line">                        pre = l2</span><br><span class="line">                        l2 = nxt</span><br><span class="line">                        nxt = l2.<span class="built_in">next</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> CHECKL2:</span><br><span class="line">            <span class="keyword">while</span> l2:</span><br><span class="line">                <span class="keyword">if</span> l2.val &gt;= <span class="number">10</span>:</span><br><span class="line">                    l2.val = l2.val % <span class="number">10</span></span><br><span class="line">                    <span class="keyword">if</span> nxt:</span><br><span class="line">                        l2.<span class="built_in">next</span> = pre</span><br><span class="line">                        pre = l2</span><br><span class="line">                        l2 = nxt</span><br><span class="line">                        nxt = l2.<span class="built_in">next</span></span><br><span class="line">                        l2.val += <span class="number">1</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        l2.<span class="built_in">next</span> = pre</span><br><span class="line">                        pre = l2</span><br><span class="line">                        l2 = ListNode()</span><br><span class="line">                        <span class="comment"># nxt remains None</span></span><br><span class="line">                        l2.val += <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    l2.<span class="built_in">next</span> = pre</span><br><span class="line">                    <span class="keyword">if</span> nxt:</span><br><span class="line">                        pre = l2</span><br><span class="line">                        l2 = nxt</span><br><span class="line">                        nxt = l2.<span class="built_in">next</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># link the last one        </span></span><br><span class="line">            l2.<span class="built_in">next</span> = pre</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> l2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    </span><br><span class="line">    l1 = CreateList().create([<span class="number">9</span>,<span class="number">9</span>,<span class="number">9</span>,<span class="number">9</span>])</span><br><span class="line">    l2 = CreateList().create([<span class="number">9</span>,<span class="number">9</span>,<span class="number">9</span>,<span class="number">9</span>,<span class="number">9</span>,<span class="number">9</span>,<span class="number">9</span>])</span><br><span class="line">    result = Solution().addTwoNumbers(l1, l2)</span><br><span class="line">    CreateList().display(result)</span><br></pre></td></tr></table></figure>
<img src="/2022/12/05/Leetcode/2.png" class="" title="This is an image">
<h1 id="3-Longest-Substring-Without-Repeating"><a href="#3-Longest-Substring-Without-Repeating" class="headerlink" title="3. Longest Substring Without Repeating"></a>3. Longest Substring Without Repeating</h1><blockquote>
<p>solution 1:</p>
<p>time complexity: O(n^3^)</p>
<p>Space complexity: O(n)</p>
</blockquote>
<p>In this naive solution, We use 2 for loops to go through substrings. Inner loop has range from 1 to MAX, in which MAX represents the number of unque letters in a substring. A set is used to store substring without repeat letters, so space complexity is O(n). Checking if a char exist in a set needs O(n)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">lengthOfLongestSubstring</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        MAX = <span class="built_in">len</span>(<span class="built_in">set</span>(s))</span><br><span class="line">        length = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)):</span><br><span class="line">            elements = <span class="built_in">set</span>()</span><br><span class="line">            elements.add(s[i])</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, MAX):</span><br><span class="line">                <span class="keyword">if</span> (i + j) &gt;= <span class="built_in">len</span>(s):</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="comment">## check if a char in string, need O(n)</span></span><br><span class="line">                <span class="keyword">if</span> s[i + j] <span class="keyword">in</span> elements:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                     elements.add(s[i + j])</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(elements) &gt; length:</span><br><span class="line">                length = <span class="built_in">len</span>(elements)</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> length == MAX:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> length</span><br></pre></td></tr></table></figure>
<blockquote>
<p>solution 2: sliding windows</p>
<p>time complexity: O(n)</p>
<p>space comlexity: O(n) — store hashtable</p>
</blockquote>
<p>In this solution, I use sliding window to keep track of the maximum length of substring with unique elements. By using hashtable, the time complexity of checking whether substring contains an elements is O(1).</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">lengthOfLongestSubstring</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        hashtable = &#123;&#125;</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(s) == <span class="number">0</span>: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(s) == <span class="number">1</span>: <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        head = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#&#123;char: index&#125;</span></span><br><span class="line">        hashtable[s[head]] = <span class="number">0</span></span><br><span class="line">        tail = <span class="number">1</span></span><br><span class="line">        length = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> tail &lt; <span class="built_in">len</span>(s):</span><br><span class="line">            <span class="keyword">if</span> hashtable.get(s[tail]) != <span class="literal">None</span> <span class="keyword">and</span> hashtable.get(s[tail]) &gt;= head:</span><br><span class="line">                <span class="keyword">if</span> (tail - head) &gt; length:</span><br><span class="line">                    length = tail - head</span><br><span class="line"></span><br><span class="line">                <span class="comment"># update head</span></span><br><span class="line">                head = hashtable.get(s[tail]) + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">## update the tail or add tail to it</span></span><br><span class="line">            hashtable[s[tail]] = tail</span><br><span class="line">            tail += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># for checking the last occurrance</span></span><br><span class="line">        <span class="keyword">if</span> tail - head &gt; length:</span><br><span class="line">            <span class="keyword">return</span> tail - head</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> length</span><br></pre></td></tr></table></figure>
<img src="/2022/12/05/Leetcode/3.png" class="" title="This is an image">
<blockquote>
<p>solution 3:</p>
<p>time complexity: O(n)</p>
<p>space comlexity: O(n)</p>
</blockquote>
<p>ASCII is a 7-bit character set containing 128 characters. This solution doesn’t use hashtable, directly use array. Use ascii code of char as index, store the index to-go.</p>
<p><strong>Jave version</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lengthOfLongestSubstring</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length(), ans = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span>[] index = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">128</span>];<span class="comment">// store all zeros </span></span><br><span class="line">          </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>, i = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            i = Math.max(index[s.charAt(j)], i);</span><br><span class="line">            ans = Math.max(ans, j - i + <span class="number">1</span>); </span><br><span class="line">            index[s.charAt(j)] = j + <span class="number">1</span>;<span class="comment">//（下标 + 1）</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Analsis:</p>
<p>abcabcbb</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>i</th>
<th>j</th>
<th>Ans</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>0</td>
<td>2</td>
<td>3</td>
</tr>
<tr>
<td>1 head in b now</td>
<td>3 head in the 2ed a now</td>
<td>3</td>
</tr>
</tbody>
</table>
</div>
<p>Index: {a: 1, b: 2, c:3}</p>
<p><strong>Python version</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">lengthOfLongestSubstring</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        indx = [<span class="number">0</span>] * <span class="number">128</span></span><br><span class="line">        length = <span class="number">0</span></span><br><span class="line">        head = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> tail <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)):</span><br><span class="line">            head = <span class="built_in">max</span>(head, indx[<span class="built_in">ord</span>(s[tail])])</span><br><span class="line">            length = <span class="built_in">max</span>(length, tail - head + <span class="number">1</span>)</span><br><span class="line">            indx[<span class="built_in">ord</span>(s[tail])] = tail + <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> length</span><br></pre></td></tr></table></figure>
<blockquote>
<p>summary</p>
</blockquote>
<p>Comparing solution 2 and solution 3, we find that array-index is faster than hashmap. That is because hashmap needs calculation for hashing, tho the get element time complexity is the same for these 2 ways.</p>
<h1 id="4-Median-of-Two-Sorted-Arrays"><a href="#4-Median-of-Two-Sorted-Arrays" class="headerlink" title="4.Median of Two Sorted Arrays"></a>4.Median of Two Sorted Arrays</h1><blockquote>
<p>Solution1:</p>
<p>time complexity: O(m + n)</p>
<p>space comlexity: O(m + n)</p>
</blockquote>
<p>merge the existing 2 arrays into 1, and get the median through index</p>
<blockquote>
<p>Solution2: Best preformance, because before the last calculation we only keep track of the idx change not the real values.</p>
<p>time complexity: O((m+n)/2 + 1) =&gt; O(m + n)</p>
<p>space comlexity: O(1)</p>
</blockquote>
<p>No need to merge 2 lists, we only need to locate where the median is.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">findMedianSortedArrays</span>(<span class="params">self, nums1: <span class="type">List</span>[<span class="built_in">int</span>], nums2: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">float</span>:</span><br><span class="line">        length = <span class="built_in">len</span>(nums1) + <span class="built_in">len</span>(nums2)</span><br><span class="line">        DOUBLE = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> length % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">            DOUBLE = <span class="literal">True</span></span><br><span class="line">            mid = length // <span class="number">2</span> - <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            mid = length // <span class="number">2</span></span><br><span class="line">        </span><br><span class="line">        curr1 = <span class="number">0</span></span><br><span class="line">        curr2 = <span class="number">0</span></span><br><span class="line">        idx = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> idx != mid:</span><br><span class="line">            <span class="keyword">if</span> curr1 &gt;= <span class="built_in">len</span>(nums1):</span><br><span class="line">                curr2 += <span class="number">1</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">elif</span> curr2 &gt;= <span class="built_in">len</span>(nums2):</span><br><span class="line">                curr1 += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">elif</span> nums1[curr1] &lt; nums2[curr2]:</span><br><span class="line">                curr1 += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                curr2 += <span class="number">1</span></span><br><span class="line">            </span><br><span class="line">            idx += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        num = <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> DOUBLE:</span><br><span class="line">            num = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">            <span class="keyword">if</span> curr1 &gt;= <span class="built_in">len</span>(nums1):</span><br><span class="line">                res += nums2[curr2]</span><br><span class="line">                curr2 += <span class="number">1</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">elif</span> curr2 &gt;= <span class="built_in">len</span>(nums2):</span><br><span class="line">                res += nums1[curr1]</span><br><span class="line">                curr1 += <span class="number">1</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">elif</span> nums1[curr1] &lt; nums2[curr2]:</span><br><span class="line">                res += nums1[curr1]</span><br><span class="line">                curr1 += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                res += nums2[curr2]</span><br><span class="line">                curr2 += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> res/num</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution3:</p>
<p>time complexity: O((m+n)/2 + 1) =&gt; O(m + n)</p>
<p>space comlexity: O(1)</p>
</blockquote>
<p>For odd numbers, the index of median is <code>Len//2</code></p>
<p>For even numbers, the index of median is <code>Len//2</code> and <code>Len//2-1</code></p>
<p>We use 2 pointers <code>prev</code> and <code>curr</code> to keep track of the median .</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">findMedianSortedArrays</span>(<span class="params">self, nums1: <span class="type">List</span>[<span class="built_in">int</span>], nums2: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">float</span>:</span><br><span class="line">        length = <span class="built_in">len</span>(nums1) + <span class="built_in">len</span>(nums2)</span><br><span class="line">        </span><br><span class="line">        DOUBLE = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">if</span> length % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">            DOUBLE = <span class="literal">True</span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">       </span><br><span class="line">        prev = -<span class="number">1</span> <span class="comment">## Len // 2 -1</span></span><br><span class="line">        curr = -<span class="number">1</span> <span class="comment">## Len // 2</span></span><br><span class="line">        curr1 = <span class="number">0</span></span><br><span class="line">        curr2 = <span class="number">0</span></span><br><span class="line">        idx = <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> idx &lt;= length // <span class="number">2</span>:</span><br><span class="line">            prev = curr</span><br><span class="line">            <span class="keyword">if</span> curr1 &gt;= <span class="built_in">len</span>(nums1):</span><br><span class="line">                curr = nums2[curr2]</span><br><span class="line">                curr2 += <span class="number">1</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">elif</span> curr2 &gt;= <span class="built_in">len</span>(nums2):</span><br><span class="line">                curr = nums1[curr1]</span><br><span class="line">                curr1 += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">elif</span> nums1[curr1] &lt; nums2[curr2]:</span><br><span class="line">                curr = nums1[curr1]</span><br><span class="line">                curr1 += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                curr = nums2[curr2]</span><br><span class="line">                curr2 += <span class="number">1</span></span><br><span class="line">            </span><br><span class="line">            idx += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> DOUBLE:</span><br><span class="line">            <span class="keyword">return</span> (curr+ prev)/<span class="number">2</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> curr</span><br></pre></td></tr></table></figure>
<h1 id="5-palindromic-characteristics"><a href="#5-palindromic-characteristics" class="headerlink" title="5.palindromic characteristics"></a>5.palindromic characteristics</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/longest-palindromic-substring/">https://leetcode.com/problems/longest-palindromic-substring/</a></p>
<ul>
<li><strong>Inclu</strong>sive - <strong>Inclu</strong>ding the last number</li>
<li><strong>Exclu</strong>sive - <strong>Exclu</strong>ding the last number</li>
</ul>
<p><strong>palindormic Characteristic</strong>: is the number of k-palindromes in a string where k lies in range [0,n) (0 through n exclusive)</p>
<p>A string is 1-palindrome(or simply palindrome) if and only if it reads the same backward as it reads forward.</p>
<p>A string is k-palindrome(k &gt; 1) if only of: </p>
<ol>
<li>Its left half is equal to its right half. </li>
<li>Its left and right half should be non-empty (k-1)-palindrome. </li>
</ol>
<blockquote>
<p>solution 1: brute force</p>
<p>time complexity: O(n^3)</p>
<p>space complexity: O(1) </p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isPalindormic</span><span class="params">(String s)</span> &#123;</span><br><span class="line">  <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> s.length();</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len /<span class="number">2</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (s.charAt(i) != s.charAt(len - i - <span class="number">1</span>)) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">longestPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">  <span class="type">String</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> s.length();</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt;=len; j++) &#123;</span><br><span class="line">      <span class="type">String</span> <span class="variable">test</span> <span class="operator">=</span> s.substring(i, j);</span><br><span class="line">      <span class="keyword">if</span> (isPalindromic(test) &amp;&amp; test.length() &gt; max) &#123;</span><br><span class="line">        ans = s.substring(i, j);</span><br><span class="line">        max = Math.max(max, ans.length());</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="keyword">return</span> ans;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution2: compare with reversed string</p>
<p>time complexity: O(n^2)</p>
<p>space comlexity: O(n^2)</p>
</blockquote>
<p><strong>Background - Get the longest Common Substring</strong></p>
<ul>
<li><p>According to the definition of palindromic characteristic: it reads the same backward as it reads forward.</p>
</li>
<li><p>Reference</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u010397369/article/details/38979077">https://blog.csdn.net/u010397369/article/details/38979077</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.kancloud.cn/digest/pieces-algorithm/163624">https://www.kancloud.cn/digest/pieces-algorithm/163624</a></p>
</li>
</ul>
</li>
</ul>
<p>build a 2D-array with initial values 0. If x == y then fill the value with arr[ i ][ j ] = arr[ i-1 ][ j-1 ] + 1</p>
<p>For i = 0 or j = 0, we do analysis seperately in the first step, so that we don’t need to validate arr[ i-1 ][ j-1 ] every times.</p>
<img src="/2022/12/05/Leetcode/4.png" class="" title="This is an image">
<ul>
<li>Error cases:<code>abc435cba</code> its not a palindrome substring. So we need to do one more step validation by using index.</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">## time complexity exceed</span><br><span class="line">class Solution:</span><br><span class="line">    def longestPalindrome(self, s: str) -&gt; str:</span><br><span class="line">        matrix = [[0]*len(s) for _ in range(len(s))]</span><br><span class="line">        re_s = s[::-1]</span><br><span class="line">        maxlen = 0</span><br><span class="line">        maxend = 0</span><br><span class="line">        for i in range(0, len(s)):</span><br><span class="line">            for j in range(0, len(s)):</span><br><span class="line">                if s[i] == re_s[j]:</span><br><span class="line">                    if i != 0 and j!= 0:</span><br><span class="line">                        matrix[i][j] = matrix[i-1][j-1] + 1</span><br><span class="line">                    else:</span><br><span class="line">                        matrix[i][j] = 1</span><br><span class="line">                    </span><br><span class="line">                    if matrix[i][j] &gt; maxlen:</span><br><span class="line">                        ## get item i on reversed string</span><br><span class="line">                        ## using maxlen to get where j is</span><br><span class="line">                        ## the index of calculated j and the real j should be the same</span><br><span class="line">                        res_pos = len(s) - i - 1</span><br><span class="line">                        if res_pos + matrix[i][j] -1 == j:</span><br><span class="line">                            maxlen = matrix[i][j]</span><br><span class="line">                            maxend = i</span><br><span class="line">      </span><br><span class="line">        return s[maxend - maxlen + 1 : maxend +1]</span><br></pre></td></tr></table></figure>
<p>Improvement on space complexity:</p>
<p>time complexity: O(n)</p>
<p>space comlexity: O(n^2) -&gt; O(n)</p>
<p>For each update, we only need the record from previous column. So we only need one array and update from buttom to up.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">longestPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s.equals(<span class="string">&quot;&quot;</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">origin</span> <span class="operator">=</span> s;</span><br><span class="line">    <span class="type">String</span> <span class="variable">reverse</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(s).reverse().toString();</span><br><span class="line">    <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> s.length();</span><br><span class="line">    <span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[length];</span><br><span class="line">    <span class="type">int</span> <span class="variable">maxLen</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">maxEnd</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">        <span class="comment">/**************修改的地方***************************/</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> length - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">        <span class="comment">/**************************************************/</span></span><br><span class="line">            <span class="keyword">if</span> (origin.charAt(i) == reverse.charAt(j)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">0</span> || j == <span class="number">0</span>) &#123;</span><br><span class="line">                    arr[j] = <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    arr[j] = arr[j - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            <span class="comment">/**************修改的地方***************************/</span></span><br><span class="line">            <span class="comment">//之前二维数组，每次用的是不同的列，所以不用置 0 。</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                arr[j] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">/**************************************************/</span></span><br><span class="line">            <span class="keyword">if</span> (arr[j] &gt; maxLen) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">beforeRev</span> <span class="operator">=</span> length - <span class="number">1</span> - j;</span><br><span class="line">                <span class="keyword">if</span> (beforeRev + arr[j] - <span class="number">1</span> == i) &#123;</span><br><span class="line">                    maxLen = arr[j];</span><br><span class="line">                    maxEnd = i;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> s.substring(maxEnd - maxLen + <span class="number">1</span>, maxEnd + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 3: dynamic prgramming</p>
<p>time complexity: O(n^2)</p>
<p>space comlexity: O(n^2)</p>
</blockquote>
<p>P(i, j) —— true if false s[i, j] is palindromic string</p>
<p><code>P(i,j) = (P(i+1, j-1) &amp;&amp; S[i] == S[j])</code></p>
<p>basically if we want to know of P(i, j), we only need to check P(i+1, j-1). So we can use dynamic prgramming, exhchange time with space by storing the calculateed P(i, j).</p>
<p>For the substrings with length 1 and 2, we cannot use the formula mentioned because i &gt; j.</p>
<p>So first we initialize the palindromic substring with length 1, using the formula mentioned before, so that we can get all the palindromic substrings with odd length. Then we initialize the palindromic substring( P[i, i+1] ) with length of 2. By using the formula, substring with even length can be explored.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">longestPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">  <span class="type">int</span> <span class="variable">length</span>  <span class="operator">=</span> s.length();</span><br><span class="line">  <span class="type">boolean</span>[][] P = <span class="keyword">new</span> <span class="title class_">boolean</span>[length][length];</span><br><span class="line">  <span class="type">int</span> <span class="variable">maxLen</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="type">String</span> <span class="variable">res</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">1</span>; len &lt;= length; len++)</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>; start &lt; length; start ++) &#123;</span><br><span class="line">      <span class="type">int</span> <span class="variable">end</span> <span class="operator">=</span> start + len - <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">if</span> (end &gt;= length)</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      P[start][end] = (len == <span class="number">1</span> || len == <span class="number">2</span> || P[start + <span class="number">1</span>][ end - <span class="number">1</span>]) &amp;&amp; s.charAt(start) == s.charAt(end);</span><br><span class="line">      <span class="keyword">if</span> (P[start][end] &amp;&amp; len &gt; maxLen) &#123;</span><br><span class="line">        res = s.substring(start, end + <span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line"> 	<span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 4: improved dynamic prgramming</p>
<p>time complexity: O(n^2)</p>
<p>space comlexity: O(n^2)</p>
</blockquote>
<p>Recap the recursion formula: <code>P(i,j) = (P(i+1, j-1) &amp;&amp; S[i] == S[j])</code></p>
<p>From the formula, we can see that if we want to know P(i, xxx) we should first know P(i + 1, xxx). So we only need to loop through backwards.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">longestPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">  <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">  <span class="type">String</span> <span class="variable">res</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="type">boolean</span>[][] dp = <span class="keyword">new</span> <span class="title class_">boolean</span>[n][n];</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n - <span class="number">1</span>; i &gt;=<span class="number">0</span>; i--) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt; n; j++) &#123;</span><br><span class="line">      dp[i][j] = s.charAt(i) == s.charAt(j) &amp;&amp; (j - i &lt; <span class="number">2</span> || dp[i + <span class="number">1</span>][j - <span class="number">1</span>]);</span><br><span class="line">      <span class="keyword">if</span> (dp[i][j] &amp;&amp; (res == <span class="literal">null</span> || j - i + <span class="number">1</span> &gt; res.length())) &#123;</span><br><span class="line">        res = s.substring(i, j + <span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="/2022/12/05/Leetcode/5.png" class="" title="This is an image">
<blockquote>
<p>time complexity: O(n^2)</p>
<p>space comlexity: O(n)</p>
</blockquote>
<p>We can improve the space complexity by revsersing the order of j.</p>
<img src="/2022/12/05/Leetcode/6.png" class="" title="This is an image">
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">longestPalindrome7</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="type">String</span> <span class="variable">res</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="type">boolean</span>[] P = <span class="keyword">new</span> <span class="title class_">boolean</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> n - <span class="number">1</span>; j &gt;= i; j--) &#123;</span><br><span class="line">                P[j] = s.charAt(i) == s.charAt(j) &amp;&amp; (j - i &lt; <span class="number">3</span> || P[j - <span class="number">1</span>]);</span><br><span class="line">                <span class="keyword">if</span> (P[j] &amp;&amp; j - i + <span class="number">1</span> &gt; res.length()) &#123;</span><br><span class="line">                    res = s.substring(i, j + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 5: expand from the center</p>
<p>time complexity: O(n^2)</p>
<p>space comlexity: O(1)</p>
</blockquote>
<p>palindromic string is symmetric. So we can choose one center to expand for each loop.</p>
<p>For string of length n, we have n + n -1 center in total.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">longestPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (s == <span class="literal">null</span> || s.length() &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>, end = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">len1</span> <span class="operator">=</span> expandAroundCenter(s, i, i);</span><br><span class="line">    <span class="type">int</span> <span class="variable">len2</span> <span class="operator">=</span> expandAroundCenter(s, i, i + <span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> Math.max(len1, len2);</span><br><span class="line">    <span class="keyword">if</span> (len &gt; end  - start) &#123;</span><br><span class="line">      start = i - (len - <span class="number">1</span>) / <span class="number">2</span>; <span class="comment">// same for odd and even number</span></span><br><span class="line">      end = i + len / <span class="number">2</span>; <span class="comment">// even is 1 more</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> s.substring(start, end + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">expandAroundCenter</span><span class="params">(String s, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">  <span class="type">int</span> <span class="variable">L</span> <span class="operator">=</span> left, R = right;</span><br><span class="line">  <span class="keyword">while</span> (L &gt;= <span class="number">0</span> &amp;&amp; R &lt; s.length() &amp;&amp; s.charAt(L) == s.charAt(R)) &#123;</span><br><span class="line">    L--;</span><br><span class="line">    R++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> R - L - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>solution 6:</p>
<p>time complexity: O(n)</p>
<p>space comlexity: O(n)</p>
</blockquote>
<p><strong>Preprocessing</strong></p>
<p>The length of palindromic string can be odd or even. To simplify, we did preprocessing to the string so that all the strings are in odd length.</p>
<ol>
<li>Insert a “#” between each pair of chars, so that any odd/even palindromic can be turned into odd palidromic.</li>
<li>Insert “^” and “$” in the front&amp;back of the string to indicate the boundary of the stirng.</li>
</ol>
<img src="/2022/12/05/Leetcode/8.png" class="" title="This is an image">
<p>We use array P to store the maximun expansion from the corresponding center, which equals to the length of the palindromic substring (without #).</p>
<p>For example, p[6] = 5, so the maximum one-side expansion of the character is 5, as in “#c#b#” for left-hand side, “#b#c#” for the right hand-side. By removing the “#”, we can get “cbcbc”, the length is 5.</p>
<p><strong>get the the index of the start postion in orginial string(without #)</strong></p>
<p>i — index of P</p>
<p>start of original target:<code>(i - P[i]) / 2</code></p>
<p>length: p[i]</p>
<p><strong>how to calculate P[i]</strong></p>
<ul>
<li><p>center expension</p>
</li>
<li><p>Symmetricity of palindromic string: P[i] == P[i_mirror], but there are 3 special cases</p>
<ul>
<li>exceed the current radius<ul>
<li><img src="/2022/12/05/Leetcode/9.png" class="" title="This is an image"></li>
<li>P[i_mirror] = 7, but P[i] is not 7. Because i = 15, and the right-border if it is 15 + 7 = 22, which is larger than the current R of the current center C. But we can know that P[i] is at least R - i = 20 -15 = 5.</li>
</ul>
</li>
<li>P[i_mirror] meet the left boundary of the orginial string.<ul>
<li><img src="/2022/12/05/Leetcode/10.png" class="" title="This is an image"></li>
<li>P[i_mirror] = 1, but P[i] is not 1 in this case, because the expansion P[i_mirror] stops at “^”. But P[i] doesn’t meet any boundary, so it can keep going.</li>
</ul>
</li>
<li>i is R<ul>
<li>give P[i] 0, then using center expansion method to explore  its radius.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>update C and R</strong></p>
<p>we need to calculate each P[i], when the current P[i]’s right boundary is larger than the current R, we need to update C and R.</p>
<img src="/2022/12/05/Leetcode/11.png" class="" title="This is an image">
<p>As shown in the above img, P[i] is 3, so the corresponding right boundary is 13, which is larger than the current R, so we need to update C to where i is, and update R to 13.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">preProcess</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;^$&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">String</span> <span class="variable">ret</span> <span class="operator">=</span> <span class="string">&quot;^&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        ret += <span class="string">&quot;#&quot;</span> + s.charAt(i);</span><br><span class="line">    ret += <span class="string">&quot;#$&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Manacher</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">longestPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">  <span class="type">String</span> <span class="variable">T</span> <span class="operator">=</span> preProcess(s);</span><br><span class="line">  <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> T.length();</span><br><span class="line">  <span class="type">int</span>[] P = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">  <span class="type">int</span> <span class="variable">C</span> <span class="operator">=</span> <span class="number">0</span>, R = <span class="number">0</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n -<span class="number">1</span>; i++) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i_mirror</span> <span class="operator">=</span> <span class="number">2</span> * C - i;</span><br><span class="line">    <span class="comment">// in case i is over R</span></span><br><span class="line">    <span class="keyword">if</span> (R &gt; i) &#123;</span><br><span class="line">      P[i] = Math.min(R - i, P[i_mirror]); </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="comment">// i equals to R; can also be written as else if (R == i)</span></span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      P[i] = <span class="number">0</span>; </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// center expansion</span></span><br><span class="line">    <span class="keyword">while</span> (T.charAt(i + <span class="number">1</span> + P[i]) == T.charAt(i - <span class="number">1</span> - P[i])) &#123;</span><br><span class="line">      P[i] ++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// update C and R</span></span><br><span class="line">    <span class="keyword">if</span> (i + P[i] &gt; R) &#123;</span><br><span class="line">      C = i;</span><br><span class="line">      R = i + P[i]; <span class="comment">// right-hand side border index</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// find the max(P)</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">maxLen</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">centerIndex</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (P[i] &gt; maxLen) &#123;</span><br><span class="line">            maxLen = P[i];</span><br><span class="line">            centerIndex = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> (centerIndex - maxLen) / <span class="number">2</span>; <span class="comment">// the start index of the origninal string</span></span><br><span class="line">    <span class="keyword">return</span> s.substring(start, start + maxLen);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Analysis</strong></p>
<p>Within the first for loop, there is a <code>while loop</code>, but the time complexity is still O(n). Because we use this ‘while loop’ to do expansion, as in pushing R boundary to the right hand side. Visited node will not be looped twice. So the time Complexity is still O(n).</p>
<h1 id="6-Zigzag-Conversion"><a href="#6-Zigzag-Conversion" class="headerlink" title="6.Zigzag Conversion"></a>6.Zigzag Conversion</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/zigzag-conversion/">https://leetcode.com/problems/zigzag-conversion/</a></p>
<img src="/2022/12/05/Leetcode/12.png" class="" title="This is an image">
<p>We first put all the letter nodes in coordinate system, as in giving each of them an x-y value.</p>
<p>The rule is value of y increases alone but value of x increase with the decrease of y.</p>
<img src="/2022/12/05/Leetcode/13.png" class="" title="This is an image">
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">convert</span>(<span class="params">self, s: <span class="built_in">str</span>, numRows: <span class="built_in">int</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">if</span> numRows == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> s</span><br><span class="line">        </span><br><span class="line">        res = [<span class="string">&quot;&quot;</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(numRows)]</span><br><span class="line">        x = <span class="number">0</span></span><br><span class="line">        y = <span class="number">0</span></span><br><span class="line">        DEC = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)):</span><br><span class="line"></span><br><span class="line">            <span class="comment"># res.append((x, y, s[i]))</span></span><br><span class="line">            res[y] += s[i]</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> y != numRows - <span class="number">1</span> <span class="keyword">and</span> <span class="keyword">not</span> DEC:</span><br><span class="line">                y += <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> y == numRows-<span class="number">1</span> <span class="keyword">and</span> <span class="keyword">not</span> DEC:</span><br><span class="line">                DEC = <span class="literal">True</span></span><br><span class="line">                x += <span class="number">1</span></span><br><span class="line">                y -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> y != <span class="number">0</span> <span class="keyword">and</span> DEC:</span><br><span class="line">                x += <span class="number">1</span></span><br><span class="line">                y -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> y == <span class="number">0</span> <span class="keyword">and</span> DEC:</span><br><span class="line">                DEC = <span class="literal">False</span></span><br><span class="line">                y += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>.join(_ <span class="keyword">for</span> _ <span class="keyword">in</span> res)</span><br></pre></td></tr></table></figure>
<h1 id="7-Reverse-Integer"><a href="#7-Reverse-Integer" class="headerlink" title="7. Reverse Integer"></a>7. Reverse Integer</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/reverse-integer/description/">https://leetcode.com/problems/reverse-integer/description/</a></p>
<blockquote>
<p>solution 1:</p>
<p>time complexity: O(log~10~(x)) — Number x has log~10~(x) + 1 digits </p>
<p>space comlexity: O(1)</p>
</blockquote>
<p>We reverse the absolute value of both negatives and positives. Before that, we need to handle 2 speical cases, 0 and -2**31.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">reverse</span>(<span class="params">self, x: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="comment">## compare length</span></span><br><span class="line">        <span class="keyword">if</span> x == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> x</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> x == - <span class="number">2</span>**<span class="number">31</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        NEG = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">if</span> x &lt; <span class="number">0</span>:</span><br><span class="line">            NEG = <span class="literal">True</span></span><br><span class="line">            x = -x</span><br><span class="line"></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> x != <span class="number">0</span> :</span><br><span class="line">            tmp = x % <span class="number">10</span></span><br><span class="line">            x = x // <span class="number">10</span></span><br><span class="line">            <span class="comment">## indicates the last step</span></span><br><span class="line">            <span class="keyword">if</span> x == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">if</span> res &gt; (<span class="number">2</span>**<span class="number">31</span> - <span class="number">1</span>) // <span class="number">10</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">                <span class="keyword">elif</span> res == (<span class="number">2</span>**<span class="number">31</span> - <span class="number">1</span>) // <span class="number">10</span>:</span><br><span class="line">                    <span class="keyword">if</span> tmp &gt; (<span class="number">2</span>**<span class="number">31</span> - <span class="number">1</span>) % <span class="number">10</span>:</span><br><span class="line">                        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">            res = res * <span class="number">10</span> + tmp</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> NEG:</span><br><span class="line">            <span class="keyword">return</span> -res</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>improvement on solution 1:</p>
</blockquote>
<p>we consider the case  <code>res == (2**31 - 1) // 1</code> for <code>res = 214748364 and tmp &gt; 6</code> (2<strong>31 = 2147483646). But according to the questions spec, there is no input larger than `2</strong>31`. so this elif statement is redundant.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">reverse</span>(<span class="params">self, x: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="comment">## compare length</span></span><br><span class="line">        <span class="keyword">if</span> x == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> x</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> x == - <span class="number">2</span>**<span class="number">31</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        NEG = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">if</span> x &lt; <span class="number">0</span>:</span><br><span class="line">            NEG = <span class="literal">True</span></span><br><span class="line">            x = -x</span><br><span class="line"></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> x != <span class="number">0</span> :</span><br><span class="line">            tmp = x % <span class="number">10</span></span><br><span class="line">            x = x // <span class="number">10</span></span><br><span class="line">            <span class="comment">## indicates the last step</span></span><br><span class="line">            <span class="keyword">if</span> x == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">if</span> res &gt; (<span class="number">2</span>**<span class="number">31</span> - <span class="number">1</span>) // <span class="number">10</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">            res = res * <span class="number">10</span> + tmp</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> NEG:</span><br><span class="line">            <span class="keyword">return</span> -res</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>solution2: in C or java</p>
<p>time complexity: O(log~10~(x)) — Number x has log~10~(x) + 1 digits </p>
<p>space comlexity: O(1)</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;limits.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">reverse</span><span class="params">(<span class="type">int</span> x)</span>&#123;</span><br><span class="line">    <span class="type">int</span> reverse=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(x!=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="type">int</span> lastdigit = x%<span class="number">10</span>;</span><br><span class="line">        <span class="keyword">if</span> (reverse &gt; INT_MAX/<span class="number">10</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (reverse &lt; INT_MIN/<span class="number">10</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        reverse = reverse*<span class="number">10</span> + lastdigit;</span><br><span class="line">        x = x/<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> reverse;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, reverse(<span class="number">-321</span>));</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">reverse</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">rev</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (x != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">pop</span> <span class="operator">=</span> x % <span class="number">10</span>;</span><br><span class="line">        x /= <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">if</span> (rev &gt; Integer.MAX_VALUE/<span class="number">10</span> ) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (rev &lt; Integer.MIN_VALUE/<span class="number">10</span> ) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        rev = rev * <span class="number">10</span> + pop;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> rev;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="8-String-to-Integer"><a href="#8-String-to-Integer" class="headerlink" title="8.String to Integer"></a>8.String to Integer</h1><p>To simplify to question, here are some legitimate cases:</p>
<ul>
<li>leading whitespaces / None</li>
<li>following with single - / + / None</li>
<li>following with Numbers</li>
<li>The show up of Non-digit will break the program</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">myAtoi</span>(<span class="params">self, s</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type s: str</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        symbol = <span class="literal">False</span></span><br><span class="line">        digit = <span class="literal">False</span></span><br><span class="line">        neg = <span class="literal">False</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        s = s.lstrip() <span class="comment">## remove all the whitespaces</span></span><br><span class="line">       </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> symbol <span class="keyword">and</span> <span class="keyword">not</span> digit:</span><br><span class="line">                <span class="keyword">if</span> s[i] == <span class="string">&quot;+&quot;</span>:</span><br><span class="line">                    symbol = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">elif</span> s[i] == <span class="string">&quot;-&quot;</span>:</span><br><span class="line">                    neg = <span class="literal">True</span></span><br><span class="line">                    symbol = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">elif</span> s[i].isdigit():</span><br><span class="line">                    symbol = <span class="literal">True</span></span><br><span class="line">                    digit = <span class="literal">True</span></span><br><span class="line">                    res = res * <span class="number">10</span> + <span class="built_in">int</span>(s[i])</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">                </span><br><span class="line">            <span class="keyword">elif</span> <span class="keyword">not</span> digit:</span><br><span class="line">                <span class="keyword">if</span> s[i].isdigit():</span><br><span class="line">                    res = res * <span class="number">10</span> + <span class="built_in">int</span>(s[i])</span><br><span class="line">                    digit = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> s[i].isdigit():</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    res = res * <span class="number">10</span> + <span class="built_in">int</span>(s[i])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> neg:</span><br><span class="line">            res = -res</span><br><span class="line">            <span class="keyword">if</span> res &lt; -<span class="number">2</span>**<span class="number">31</span>:</span><br><span class="line">                <span class="keyword">return</span> -<span class="number">2</span>**<span class="number">31</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> res &gt; <span class="number">2</span>**<span class="number">31</span> - <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">2</span>**<span class="number">31</span> - <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<h1 id="9-Parlindrome-Number"><a href="#9-Parlindrome-Number" class="headerlink" title="9.Parlindrome Number"></a>9.Parlindrome Number</h1><blockquote>
<p>Solution 1:</p>
<p>time complexity: O(log~10~(x)) — Number x has log~10~(x) + 1 digits </p>
<p>space comlexity: O(log~10~(x))</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isPalindrome</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type x: int</span></span><br><span class="line"><span class="string">        :rtype: bool</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> x &lt; <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        x = <span class="built_in">str</span>(x)</span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        end = <span class="built_in">len</span>(x) -<span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> start &lt; end:</span><br><span class="line">            <span class="keyword">if</span> x[start] == x[end]:</span><br><span class="line">                start += <span class="number">1</span></span><br><span class="line">                end -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2:</p>
<p>time complexity: O(log~10~(x)) — Number x has log~10~(x) + 1 digits </p>
<p>space comlexity: O(1)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isPalindrome</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type x: int</span></span><br><span class="line"><span class="string">        :rtype: bool</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> x &lt; <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        val = <span class="number">0</span></span><br><span class="line">        org = x</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> x &gt; <span class="number">0</span>:</span><br><span class="line">            val = val * <span class="number">10</span> +  x % <span class="number">10</span></span><br><span class="line">            <span class="comment">## to make sure all the value are with the integer scope</span></span><br><span class="line">            <span class="keyword">if</span> val &gt; (<span class="number">2</span>**<span class="number">31</span> - <span class="number">1</span>) // <span class="number">10</span>:</span><br><span class="line">              <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            x = x // <span class="number">10</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> val == org</span><br></pre></td></tr></table></figure>
<h1 id="10-Regular-Expression"><a href="#10-Regular-Expression" class="headerlink" title="10. Regular Expression"></a>10. Regular Expression</h1><blockquote>
<p>Solution 1: Recursion</p>
</blockquote>
<p>Without the kleene start (wildcard character for regular expressions). We simply check from left to right if each character of the text matchs the pattern. The length of the text and the length of the pattern should be the same</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">match</span>(<span class="params">text, pattern</span>):</span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> pattern:</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">not</span> text</span><br><span class="line">  first_match = <span class="built_in">bool</span>(text) <span class="keyword">and</span> pattern[<span class="number">0</span>] <span class="keyword">in</span> &#123;text[<span class="number">0</span>], <span class="string">&#x27;.&#x27;</span>&#125;</span><br><span class="line">  <span class="keyword">return</span> first_match <span class="keyword">and</span> <span class="keyword">match</span>(text[<span class="number">1</span>:], pattern[<span class="number">1</span>:])</span><br></pre></td></tr></table></figure>
<p>If a start is present in the pattern, it will be in the second position pattern[1]. Then, we may ignore this part of the the pattern, or delete a matching character in the text. If we have a match on the remaining strings after any of these operations, then the initial inputs matched.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">isMatch</span>(<span class="params">text, pattern</span>):</span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> pattern:</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">not</span> text</span><br><span class="line">  </span><br><span class="line">  first_match = <span class="built_in">bool</span>(text) <span class="keyword">and</span> patter[<span class="number">0</span>] <span class="keyword">in</span> &#123;text[<span class="number">0</span>], <span class="string">&#x27;.&#x27;</span>&#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">## example</span></span><br><span class="line">  <span class="comment">## case1: ba*b =&gt; bb ( a shows up 0 times ) </span></span><br><span class="line">  <span class="comment">## case2: a* =&gt; aaa ( then compare a* with aa )</span></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">len</span>(pattern) &gt;=<span class="number">2</span> <span class="keyword">and</span> pattern[<span class="number">1</span>] == <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">    <span class="keyword">return</span> (isMatch(text, pattern[<span class="number">2</span>:])) <span class="keyword">or</span> (first_match <span class="keyword">and</span> isMatch(text[<span class="number">1</span>:], pattern))</span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">return</span> first_match <span class="keyword">and</span> isMatch(text[<span class="number">1</span>:], pattern[<span class="number">1</span>:])</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2: Dynamic Programming</p>
</blockquote>
<p>we proceed with the same recursion as in Approach 1, except because calls will only be made to <code>match(text[i:], pattern[j:])</code>, we use dp(i, j) to handle those calls instead, saving us expensive string-building operations and allowing us to cache the intermediate results.</p>
<p><strong>TOP-Down variation</strong></p>
<p>TO judge text[0, len], we need to know text[1, len]</p>
<p>TO judge text[1, len], we need to know text[2, len]</p>
<p>etc</p>
<p>TO judge text[len, len], we need to know text[len-1, len]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isMatch</span>(<span class="params">self, text, pattern</span>):</span><br><span class="line">        memo = &#123;&#125;</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">dp</span>(<span class="params">i, j</span>):</span><br><span class="line">            <span class="keyword">if</span> (i, j) <span class="keyword">not</span> <span class="keyword">in</span> memo:</span><br><span class="line">                <span class="keyword">if</span> j == <span class="built_in">len</span>(pattern):</span><br><span class="line">                    ans = i == <span class="built_in">len</span>(text)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    first_match = i &lt; <span class="built_in">len</span>(text) <span class="keyword">and</span> pattern[j] <span class="keyword">in</span> &#123;text[i], <span class="string">&#x27;.&#x27;</span>&#125;</span><br><span class="line">                    <span class="keyword">if</span> j+<span class="number">1</span> &lt; <span class="built_in">len</span>(pattern) <span class="keyword">and</span> pattern[j+<span class="number">1</span>] == <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">                        ans = dp(i, j+<span class="number">2</span>) <span class="keyword">or</span> first_match <span class="keyword">and</span> dp(i+<span class="number">1</span>, j)</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        ans = first_match <span class="keyword">and</span> dp(i+<span class="number">1</span>, j+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">                memo[i, j] = ans</span><br><span class="line">            <span class="keyword">return</span> memo[i, j]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> dp(<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">          </span><br></pre></td></tr></table></figure>
<p><strong>Bottom-Up Variation</strong></p>
<blockquote>
<p>Time complexity: O(TP) T is the length of text, P is the length of Pattern.</p>
<p>Space complexity: O(TP)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isMatch</span>(<span class="params">self, text, pattern</span>):</span><br><span class="line">      	<span class="comment">## add 1 to #cols and #rows for the convinience of calculating dp[len-1][j]</span></span><br><span class="line">        dp = [[<span class="literal">False</span>] * (<span class="built_in">len</span>(pattern) + <span class="number">1</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(text) + <span class="number">1</span>)]</span><br><span class="line">				</span><br><span class="line">        <span class="comment">## empty pattern matched empty text</span></span><br><span class="line">        dp[-<span class="number">1</span>][-<span class="number">1</span>] = <span class="literal">True</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># i len(text) --- 0</span></span><br><span class="line">        <span class="comment"># j len(pattern) - 1 --- 0</span></span><br><span class="line">        <span class="comment"># because we might need dp[i+1][j] and dp[i+1][j+1]</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(text), -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(pattern) - <span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">                first_match = i &lt; <span class="built_in">len</span>(text) <span class="keyword">and</span> pattern[j] <span class="keyword">in</span> &#123;text[i], <span class="string">&#x27;.&#x27;</span>&#125;</span><br><span class="line">                <span class="keyword">if</span> j+<span class="number">1</span> &lt; <span class="built_in">len</span>(pattern) <span class="keyword">and</span> pattern[j+<span class="number">1</span>] == <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">                    dp[i][j] = dp[i][j+<span class="number">2</span>] <span class="keyword">or</span> first_match <span class="keyword">and</span> dp[i+<span class="number">1</span>][j]</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    dp[i][j] = first_match <span class="keyword">and</span> dp[i+<span class="number">1</span>][j+<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>][<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Optimization Space Complexity: O(P)</p>
</blockquote>
<p>We only need to cache 2 rows (i and i + 1) for each loop. (Similar to question 5)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isMatch</span><span class="params">(String text, String pattern)</span> &#123;</span><br><span class="line">    <span class="comment">// 多一维的空间，因为求 dp[len - 1][j] 的时候需要知道 dp[len][j] 的情况，</span></span><br><span class="line">    <span class="comment">// 多一维的话，就可以把 对 dp[len - 1][j] 也写进循环了</span></span><br><span class="line">    <span class="type">boolean</span>[][] dp = <span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">2</span>][pattern.length() + <span class="number">1</span>]; </span><br><span class="line">    dp[text.length()%<span class="number">2</span>][pattern.length()] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从 len 开始减少</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> text.length(); i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> pattern.length(); j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i==text.length()&amp;&amp;j==pattern.length()) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">first_match</span> <span class="operator">=</span> (i &lt; text.length() &amp;&amp; j &lt; pattern.length()</span><br><span class="line">                    &amp;&amp; (pattern.charAt(j) == text.charAt(i) || pattern.charAt(j) == <span class="string">&#x27;.&#x27;</span>));</span><br><span class="line">            <span class="keyword">if</span> (j + <span class="number">1</span> &lt; pattern.length() &amp;&amp; pattern.charAt(j + <span class="number">1</span>) == <span class="string">&#x27;*&#x27;</span>) &#123;</span><br><span class="line">                dp[i%<span class="number">2</span>][j] = dp[i%<span class="number">2</span>][j + <span class="number">2</span>] || first_match &amp;&amp; dp[(i + <span class="number">1</span>)%<span class="number">2</span>][j];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                dp[i%<span class="number">2</span>][j] = first_match &amp;&amp; dp[(i + <span class="number">1</span>)%<span class="number">2</span>][j + <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="11-Container-With-Most-Water"><a href="#11-Container-With-Most-Water" class="headerlink" title="11. Container With Most Water"></a>11. Container With Most Water</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/container-with-most-water/">https://leetcode.com/problems/container-with-most-water/</a></p>
<blockquote>
<p>Solution 1: brute force</p>
<p>time complexity: O(n^2)</p>
<p>space complexity: O(1)</p>
</blockquote>
<p>double loop</p>
<blockquote>
<p>Solution 2:</p>
<p>time complexity: O(n)</p>
<p>space complexity: O(1)</p>
</blockquote>
<p>while moving the 2 lines towards each other, the width is getting smaller and smaller. So we need to increase the height of the container, so that the amount of water might increase. The height of the container is decided on the shorter line. So every time we move the shorter one towards the other one.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">maxArea</span>(<span class="params">self, height: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        end = <span class="built_in">len</span>(height) - <span class="number">1</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> start &lt; end:</span><br><span class="line">            </span><br><span class="line">            res = <span class="built_in">max</span>(res, <span class="built_in">min</span>(height[start], height[end]) * (end - start))</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> height[start] &lt; height[end]:</span><br><span class="line">                start += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                end -= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<h1 id="12-Integer-to-Roman"><a href="#12-Integer-to-Roman" class="headerlink" title="12. Integer to Roman"></a>12. Integer to Roman</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/integer-to-roman/">https://leetcode.com/problems/integer-to-roman/</a></p>
<blockquote>
<p>Solution 1:</p>
<p>time complexity: O(log(n)) - O(log~10~(num) + 1)</p>
<p>space complexity: O(1) - constant number of variables</p>
</blockquote>
<p>Since 1 &lt;= num &lt;= 3999 is mentioned in the constraints, I processed it from left to right in this solution.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">intToRoman</span>(<span class="params">self, num: <span class="built_in">int</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        res = <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">        M = num // <span class="number">1000</span></span><br><span class="line">        num = num % <span class="number">1000</span></span><br><span class="line">        res += <span class="string">&quot;M&quot;</span> * M</span><br><span class="line">        </span><br><span class="line">        C = num // <span class="number">100</span></span><br><span class="line">        num = num % <span class="number">100</span></span><br><span class="line">        <span class="keyword">if</span> C == <span class="number">9</span>:</span><br><span class="line">            res += <span class="string">&quot;CM&quot;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            D = C // <span class="number">5</span></span><br><span class="line">            res += <span class="string">&quot;D&quot;</span> * D</span><br><span class="line">            C = C % <span class="number">5</span></span><br><span class="line">            <span class="keyword">if</span> C == <span class="number">4</span>:</span><br><span class="line">                res += <span class="string">&quot;CD&quot;</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                res += <span class="string">&quot;C&quot;</span> * C</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        X = num // <span class="number">10</span></span><br><span class="line">        num = num % <span class="number">10</span></span><br><span class="line">        <span class="keyword">if</span> X == <span class="number">9</span>:</span><br><span class="line">            res += <span class="string">&quot;XC&quot;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            L = X // <span class="number">5</span></span><br><span class="line">            res += <span class="string">&quot;L&quot;</span> * L</span><br><span class="line">            X = X % <span class="number">5</span></span><br><span class="line">            <span class="keyword">if</span> X == <span class="number">4</span>:</span><br><span class="line">                res += <span class="string">&quot;XL&quot;</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                res += <span class="string">&quot;X&quot;</span> * X</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> num == <span class="number">9</span>:</span><br><span class="line">            res += <span class="string">&quot;IX&quot;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            V = num // <span class="number">5</span></span><br><span class="line">            res += <span class="string">&quot;V&quot;</span> * V</span><br><span class="line">            I = num % <span class="number">5</span></span><br><span class="line">            <span class="keyword">if</span> I == <span class="number">4</span>:</span><br><span class="line">                res += <span class="string">&quot;IV&quot;</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                res += <span class="string">&quot;I&quot;</span> * I</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Soluton 2;</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">intToRoman</span>(<span class="params">self, num: <span class="built_in">int</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        res = <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">        values = [<span class="number">1000</span>,<span class="number">900</span>,<span class="number">500</span>,<span class="number">400</span>,<span class="number">100</span>,<span class="number">90</span>,<span class="number">50</span>,<span class="number">40</span>,<span class="number">10</span>,<span class="number">9</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">1</span>]</span><br><span class="line">        strs = [<span class="string">&quot;M&quot;</span>,<span class="string">&quot;CM&quot;</span>,<span class="string">&quot;D&quot;</span>,<span class="string">&quot;CD&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;XC&quot;</span>,<span class="string">&quot;L&quot;</span>,<span class="string">&quot;XL&quot;</span>,<span class="string">&quot;X&quot;</span>,<span class="string">&quot;IX&quot;</span>,<span class="string">&quot;V&quot;</span>,<span class="string">&quot;IV&quot;</span>,<span class="string">&quot;I&quot;</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(values)):</span><br><span class="line">            n = num // values[i]</span><br><span class="line">            res += strs[i] * n</span><br><span class="line">            num = num % values[i]</span><br><span class="line">            <span class="keyword">if</span> num == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> res</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 3:</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">intToRoman</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">    String M[] = &#123;<span class="string">&quot;&quot;</span>, <span class="string">&quot;M&quot;</span>, <span class="string">&quot;MM&quot;</span>, <span class="string">&quot;MMM&quot;</span>&#125;;<span class="comment">//0,1000,2000,3000</span></span><br><span class="line">    String C[] = &#123;<span class="string">&quot;&quot;</span>, <span class="string">&quot;C&quot;</span>, <span class="string">&quot;CC&quot;</span>, <span class="string">&quot;CCC&quot;</span>, <span class="string">&quot;CD&quot;</span>, <span class="string">&quot;D&quot;</span>, <span class="string">&quot;DC&quot;</span>, <span class="string">&quot;DCC&quot;</span>, <span class="string">&quot;DCCC&quot;</span>, <span class="string">&quot;CM&quot;</span>&#125;;<span class="comment">//0,100,200,300...</span></span><br><span class="line">    String X[] = &#123;<span class="string">&quot;&quot;</span>, <span class="string">&quot;X&quot;</span>, <span class="string">&quot;XX&quot;</span>, <span class="string">&quot;XXX&quot;</span>, <span class="string">&quot;XL&quot;</span>, <span class="string">&quot;L&quot;</span>, <span class="string">&quot;LX&quot;</span>, <span class="string">&quot;LXX&quot;</span>, <span class="string">&quot;LXXX&quot;</span>, <span class="string">&quot;XC&quot;</span>&#125;;<span class="comment">//0,10,20,30...</span></span><br><span class="line">    String I[] = &#123;<span class="string">&quot;&quot;</span>, <span class="string">&quot;I&quot;</span>, <span class="string">&quot;II&quot;</span>, <span class="string">&quot;III&quot;</span>, <span class="string">&quot;IV&quot;</span>, <span class="string">&quot;V&quot;</span>, <span class="string">&quot;VI&quot;</span>, <span class="string">&quot;VII&quot;</span>, <span class="string">&quot;VIII&quot;</span>, <span class="string">&quot;IX&quot;</span>&#125;;<span class="comment">//0,1,2,3...</span></span><br><span class="line">    <span class="keyword">return</span> M[num/<span class="number">1000</span>] + C[(num%<span class="number">1000</span>)/<span class="number">100</span>]+ X[(num%<span class="number">100</span>)/<span class="number">10</span>] + I[num%<span class="number">10</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="13-Roman-to-Integer"><a href="#13-Roman-to-Integer" class="headerlink" title="13. Roman to Integer"></a>13. Roman to Integer</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/roman-to-integer/description/">https://leetcode.com/problems/roman-to-integer/description/</a></p>
<blockquote>
<p>Solution 1:</p>
</blockquote>
<p>still waste space on storing dictionary and time on checking the “startswith”</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">romanToInt</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        rules = &#123;<span class="string">&quot;I&quot;</span>: <span class="number">1</span>, <span class="string">&quot;V&quot;</span>: <span class="number">5</span>, <span class="string">&quot;X&quot;</span>: <span class="number">10</span>, <span class="string">&quot;L&quot;</span>: <span class="number">50</span>,</span><br><span class="line">         <span class="string">&quot;C&quot;</span>: <span class="number">100</span>, <span class="string">&quot;D&quot;</span>: <span class="number">500</span>, <span class="string">&quot;M&quot;</span>: <span class="number">1000</span>, <span class="string">&quot;CM&quot;</span>: <span class="number">900</span>, <span class="string">&quot;CD&quot;</span>:<span class="number">400</span>,</span><br><span class="line">         <span class="string">&quot;XL&quot;</span>: <span class="number">40</span>, <span class="string">&quot;XC&quot;</span>: <span class="number">90</span>, <span class="string">&quot;IV&quot;</span>: <span class="number">4</span>, <span class="string">&quot;IX&quot;</span>: <span class="number">9</span>&#125;</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> start &lt; <span class="built_in">len</span>(s):</span><br><span class="line">            <span class="keyword">if</span> s[start:].startswith(<span class="string">&quot;CM&quot;</span>):</span><br><span class="line">                start += <span class="number">2</span></span><br><span class="line">                res += <span class="number">900</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">elif</span> s[start:].startswith(<span class="string">&quot;CD&quot;</span>):</span><br><span class="line">                start += <span class="number">2</span></span><br><span class="line">                res += <span class="number">400</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">elif</span> s[start:].startswith(<span class="string">&quot;XL&quot;</span>):</span><br><span class="line">                start += <span class="number">2</span></span><br><span class="line">                res += <span class="number">40</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">elif</span> s[start:].startswith(<span class="string">&quot;XC&quot;</span>):</span><br><span class="line">                start += <span class="number">2</span></span><br><span class="line">                res += <span class="number">90</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">elif</span> s[start:].startswith(<span class="string">&quot;IV&quot;</span>):</span><br><span class="line">                start += <span class="number">2</span></span><br><span class="line">                res += <span class="number">4</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">elif</span> s[start:].startswith(<span class="string">&quot;IX&quot;</span>):</span><br><span class="line">                start += <span class="number">2</span></span><br><span class="line">                res += <span class="number">9</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                res += rules[s[start]]</span><br><span class="line">                start += <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2:</p>
</blockquote>
<p>store all the characters in a dictionary without those special cases. If smaller number shows before bigger one, then subtract smaller number from the result.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">romanToInt</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        rules = &#123;<span class="string">&quot;I&quot;</span>: <span class="number">1</span>, <span class="string">&quot;V&quot;</span>: <span class="number">5</span>, <span class="string">&quot;X&quot;</span>: <span class="number">10</span>, <span class="string">&quot;L&quot;</span>: <span class="number">50</span>,</span><br><span class="line">         <span class="string">&quot;C&quot;</span>: <span class="number">100</span>, <span class="string">&quot;D&quot;</span>: <span class="number">500</span>, <span class="string">&quot;M&quot;</span>: <span class="number">1000</span>&#125;</span><br><span class="line">      </span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">if</span> start == <span class="built_in">len</span>(s) - <span class="number">1</span>:</span><br><span class="line">                res += rules[s[start]]</span><br><span class="line">                <span class="keyword">return</span> res</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> rules[s[start]] &lt; rules[s[start + <span class="number">1</span>]]:</span><br><span class="line">                res -= rules[s[start]]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                res += rules[s[start]]</span><br><span class="line">            </span><br><span class="line">            start += <span class="number">1</span></span><br><span class="line">     </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<h1 id="14-Longest-Common-Prefix"><a href="#14-Longest-Common-Prefix" class="headerlink" title="14. Longest Common Prefix"></a>14. Longest Common Prefix</h1><blockquote>
<p>Solution 1:</p>
<p>time complexity: O(n*m) — n is the number of words, m is the length of words(assume they are all the same)</p>
<p>space complexity: O(1)</p>
</blockquote>
<p>vertical comparison: compare all the first chr of the list, then the second.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">longestCommonPrefix</span>(<span class="params">self, strs: <span class="type">List</span>[<span class="built_in">str</span>]</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(strs[<span class="number">0</span>])):</span><br><span class="line">            tmp = strs[<span class="number">0</span>][i]</span><br><span class="line">            <span class="keyword">for</span> w <span class="keyword">in</span> strs[<span class="number">1</span>:]:</span><br><span class="line">                <span class="keyword">if</span> i &gt;= <span class="built_in">len</span>(w) <span class="keyword">or</span> w[i] != tmp:</span><br><span class="line">                    <span class="keyword">return</span> strs[<span class="number">0</span>][:i]</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> strs[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2:</p>
<p>time complexity: O(n*m) — n is the number of words, m is the length of words(assume they are all the same)</p>
<p>space complexity: O(1)</p>
</blockquote>
<p>horizontal comparison: get the result from first and second, then compare the result with the third one.</p>
<p>space consuming because of the res string</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">longestCommonPrefix</span>(<span class="params">self, strs: <span class="type">List</span>[<span class="built_in">str</span>]</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        res = strs[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> w <span class="keyword">in</span> strs[<span class="number">1</span>:]:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(res)):</span><br><span class="line">                <span class="keyword">if</span> i &gt;= <span class="built_in">len</span>(w) <span class="keyword">or</span> w[i] != res[i]:</span><br><span class="line">                    res = res[:i]</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 3: Recursion</p>
<p>time complexity: O(log~2~n * m) — n is the number of words, m is the length of words(assume they are all the same)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">public String longestCommonPrefix(String[] strs) &#123;</span><br><span class="line">    <span class="keyword">if</span> (strs == null || strs.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;    </span><br><span class="line">        <span class="keyword">return</span> longestCommonPrefix(strs, <span class="number">0</span> , strs.length - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//递归不断分成两部分</span><br><span class="line">private String longestCommonPrefix(String[] strs, <span class="built_in">int</span> l, <span class="built_in">int</span> r) &#123;</span><br><span class="line">    <span class="keyword">if</span> (l == r) &#123;</span><br><span class="line">        <span class="keyword">return</span> strs[l];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">int</span> mid = (l + r)/<span class="number">2</span>;</span><br><span class="line">        String lcpLeft =   longestCommonPrefix(strs, l , mid);</span><br><span class="line">        String lcpRight =  longestCommonPrefix(strs, mid + <span class="number">1</span>,r);</span><br><span class="line">        <span class="keyword">return</span> commonPrefix(lcpLeft, lcpRight);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">//求两个结果的最长公共前缀</span><br><span class="line">String commonPrefix(String left,String right) &#123;</span><br><span class="line">    <span class="built_in">int</span> <span class="built_in">min</span> = Math.<span class="built_in">min</span>(left.length(), right.length());       </span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">min</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> ( left.charAt(i) != right.charAt(i) )</span><br><span class="line">            <span class="keyword">return</span> left.substring(<span class="number">0</span>, i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left.substring(<span class="number">0</span>, <span class="built_in">min</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="15-3SUM"><a href="#15-3SUM" class="headerlink" title="15. 3SUM"></a>15. 3SUM</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/3sum/">https://leetcode.com/problems/3sum/</a></p>
<blockquote>
<p>Solution 1: 3-loop brute force</p>
<p>Time complexity: O(n**4)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">threeSum</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:</span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i+<span class="number">1</span>, <span class="built_in">len</span>(nums)):</span><br><span class="line">                <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(j+<span class="number">1</span>, <span class="built_in">len</span>(nums)):</span><br><span class="line">                    <span class="keyword">if</span> nums[i] + nums[j] + nums[k] == <span class="number">0</span>:</span><br><span class="line">                        tmp = <span class="built_in">sorted</span>([nums[i], nums[j], nums[k]])</span><br><span class="line">                        <span class="keyword">if</span> tmp <span class="keyword">not</span> <span class="keyword">in</span> res:</span><br><span class="line">                            res.append(tmp)</span><br><span class="line">                            </span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2:</p>
<p>Time complexity: O(n**2)</p>
<p>Space complexity: O(N) N = C~n~^3^</p>
</blockquote>
<p>We first sort the array, then use 1 loop with 2 pointer to replace the 2 inner loops. So for each index in the outer loop, </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">threeSum</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:</span><br><span class="line">        <span class="comment">## sorting the array</span></span><br><span class="line">        nums = <span class="built_in">sorted</span>(nums)</span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)-<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">0</span> <span class="keyword">or</span> (i &gt; <span class="number">0</span> <span class="keyword">and</span> nums[i] != nums[i-<span class="number">1</span>]):</span><br><span class="line">                start = i + <span class="number">1</span></span><br><span class="line">                end = <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line">                SUM = <span class="number">0</span> - nums[i]</span><br><span class="line">                <span class="keyword">while</span> start &lt; end:</span><br><span class="line">                    <span class="keyword">if</span> nums[start] + nums[end] == SUM:</span><br><span class="line">                        res.append([nums[i], nums[start], nums[end]])</span><br><span class="line">												</span><br><span class="line">                        <span class="comment">## to deduplicate</span></span><br><span class="line">                        <span class="keyword">while</span> start &lt; end <span class="keyword">and</span> nums[start] == nums[start+<span class="number">1</span>]:</span><br><span class="line">                            start += <span class="number">1</span></span><br><span class="line">                        <span class="comment">## to deduplicate</span></span><br><span class="line">                        <span class="keyword">while</span> start &lt; end <span class="keyword">and</span> nums[end] == nums[end-<span class="number">1</span>]:</span><br><span class="line">                            end -= <span class="number">1</span></span><br><span class="line">                        </span><br><span class="line">                        start += <span class="number">1</span></span><br><span class="line">                        end -= <span class="number">1</span></span><br><span class="line">                    <span class="keyword">elif</span> nums[start] + nums[end] &gt; SUM:</span><br><span class="line">                        end -= <span class="number">1</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        start += <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<h1 id="16-3Sum-Closest"><a href="#16-3Sum-Closest" class="headerlink" title="16. 3Sum Closest"></a>16. 3Sum Closest</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/3sum-closest/">https://leetcode.com/problems/3sum-closest/</a></p>
<blockquote>
<p>Solution 1:</p>
<p>Time complexity: O(n**2)</p>
<p>Space complexity: O(1)</p>
</blockquote>
<p>Similar to Question 15</p>
<p>Sort the nums list first and use 2 pointer under the outer loop. If the sum is bigger that target, then decrease the end pointer index; Otherwise, if the sum is smaller than target, then increase the start pointer.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">threeSumClosest</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(nums) == <span class="number">3</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">sum</span>(nums)</span><br><span class="line"></span><br><span class="line">        <span class="comment">## sorting the array</span></span><br><span class="line">        nums = <span class="built_in">sorted</span>(nums)</span><br><span class="line"></span><br><span class="line">        SUM = (<span class="number">2</span>**<span class="number">32</span> -<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)-<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">0</span> <span class="keyword">or</span> (i &gt; <span class="number">0</span> <span class="keyword">and</span> nums[i] != nums[i-<span class="number">1</span>]):</span><br><span class="line">                start = i + <span class="number">1</span></span><br><span class="line">                end = <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">while</span> start &lt; end:</span><br><span class="line">                    tmp = nums[start] + nums[end] + nums[i]</span><br><span class="line">                    <span class="keyword">if</span> SUM != <span class="literal">None</span> <span class="keyword">and</span> <span class="built_in">abs</span>(tmp - target) &lt; <span class="built_in">abs</span>(SUM - target):</span><br><span class="line">                        SUM = tmp</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> tmp == target:</span><br><span class="line">                        <span class="keyword">return</span> target</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">elif</span> tmp &gt; target:</span><br><span class="line">                        <span class="keyword">while</span> start &lt; end <span class="keyword">and</span> nums[end] == nums[end-<span class="number">1</span>]:</span><br><span class="line">                            end -= <span class="number">1</span></span><br><span class="line">                        end -= <span class="number">1</span></span><br><span class="line">                        </span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        <span class="keyword">while</span> start &lt; end <span class="keyword">and</span> nums[start] == nums[start+<span class="number">1</span>]:</span><br><span class="line">                            start += <span class="number">1</span></span><br><span class="line">                        start += <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span> SUM</span><br></pre></td></tr></table></figure>
<h1 id="17-Letter-Combinations-of-a-Phone-Number"><a href="#17-Letter-Combinations-of-a-Phone-Number" class="headerlink" title="17. Letter Combinations of a Phone Number"></a>17. Letter Combinations of a Phone Number</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/letter-combinations-of-a-phone-number/">https://leetcode.com/problems/letter-combinations-of-a-phone-number/</a></p>
<blockquote>
<p>Solution 1:</p>
<p>Time complexity: O(n**3)</p>
<p>Space complexity: O(1)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">letterCombinations</span>(<span class="params">self, digits: <span class="built_in">str</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">str</span>]:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> digits:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line"></span><br><span class="line">        rules = [[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>],[<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span>],[<span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;h&#x27;</span>, <span class="string">&#x27;i&#x27;</span>], [<span class="string">&#x27;j&#x27;</span>, <span class="string">&#x27;k&#x27;</span>, <span class="string">&#x27;l&#x27;</span>],[<span class="string">&#x27;m&#x27;</span>, <span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;o&#x27;</span>],[<span class="string">&#x27;p&#x27;</span>, <span class="string">&#x27;q&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;s&#x27;</span>],[<span class="string">&#x27;t&#x27;</span>, <span class="string">&#x27;u&#x27;</span>, <span class="string">&#x27;v&#x27;</span>],[<span class="string">&#x27;w&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;z&#x27;</span>]]</span><br><span class="line"></span><br><span class="line">        result = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(digits)):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> result:</span><br><span class="line">                result = rules[<span class="built_in">int</span>(digits[i]) - <span class="number">2</span>]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                tmp = []</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> result:</span><br><span class="line">                    <span class="keyword">for</span> k <span class="keyword">in</span> rules[<span class="built_in">int</span>(digits[i]) - <span class="number">2</span>]:</span><br><span class="line">                        tmp.append(j + k)</span><br><span class="line">                </span><br><span class="line">                result = tmp</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">        </span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2: recursion</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">comb</span>(<span class="params">self, list1, list2</span>):</span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> list1:</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> list2:</span><br><span class="line">                res.append(i + j)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">recur</span>(<span class="params">self, digits, rules</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(digits) == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> rules[<span class="built_in">int</span>(digits[<span class="number">0</span>]) - <span class="number">2</span>]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> self.comb(rules[<span class="built_in">int</span>(digits[<span class="number">0</span>]) - <span class="number">2</span>], self.recur(digits[<span class="number">1</span>:], rules))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">letterCombinations</span>(<span class="params">self, digits: <span class="built_in">str</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">str</span>]:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> digits:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        rules = [[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>],[<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span>],[<span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;h&#x27;</span>, <span class="string">&#x27;i&#x27;</span>], [<span class="string">&#x27;j&#x27;</span>, <span class="string">&#x27;k&#x27;</span>, <span class="string">&#x27;l&#x27;</span>],[<span class="string">&#x27;m&#x27;</span>, <span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;o&#x27;</span>],[<span class="string">&#x27;p&#x27;</span>, <span class="string">&#x27;q&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;s&#x27;</span>],[<span class="string">&#x27;t&#x27;</span>, <span class="string">&#x27;u&#x27;</span>, <span class="string">&#x27;v&#x27;</span>],[<span class="string">&#x27;w&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;z&#x27;</span>]]</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> self.recur(digits, rules)</span><br></pre></td></tr></table></figure>
<h1 id="18-4SUM"><a href="#18-4SUM" class="headerlink" title="18. 4SUM"></a>18. 4SUM</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/4sum/description/">https://leetcode.com/problems/4sum/description/</a></p>
<blockquote>
<p>solution 1: similiar to 3SUM</p>
<p>Time complexity: O(n**3)</p>
<p>Space complexity: O(N) N = C~n~^4^</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fourSum</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:</span><br><span class="line"></span><br><span class="line">        nums = <span class="built_in">sorted</span>(nums)</span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">0</span> <span class="keyword">or</span> nums[i] != nums[i-<span class="number">1</span>]:</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i+<span class="number">1</span>, <span class="built_in">len</span>(nums)):</span><br><span class="line">                    <span class="keyword">if</span> j == i + <span class="number">1</span> <span class="keyword">or</span> nums[j] != nums[j-<span class="number">1</span>]:</span><br><span class="line">                        start = j + <span class="number">1</span></span><br><span class="line">                        end = <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line">                        <span class="keyword">while</span> start &lt; end:</span><br><span class="line">                            <span class="keyword">if</span> nums[i] + nums[j] + nums[start] + nums[end] == target:</span><br><span class="line">                                res.append([nums[i], nums[j], nums[start], nums[end]])</span><br><span class="line">                                </span><br><span class="line">                                <span class="keyword">while</span> start &lt; end <span class="keyword">and</span> nums[start] == nums[start+<span class="number">1</span>]:</span><br><span class="line">                                    start += <span class="number">1</span></span><br><span class="line">                                start += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">                                <span class="keyword">while</span> start &lt; end <span class="keyword">and</span> nums[end] == nums[end-<span class="number">1</span>]:</span><br><span class="line">                                    end -= <span class="number">1</span></span><br><span class="line">                                end -= <span class="number">1</span></span><br><span class="line">                                </span><br><span class="line">                            <span class="keyword">elif</span> nums[i] + nums[j] + nums[start] + nums[end] &gt; target:</span><br><span class="line">                                end -= <span class="number">1</span></span><br><span class="line">                            </span><br><span class="line">                            <span class="keyword">else</span>:</span><br><span class="line">                                start += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2: Hash set and recursion</p>
<p>Time complexity: O(n**3)</p>
<p>Space complexity: O(N) N = C~n~^4^</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">fourSum</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">kSum</span>(<span class="params">nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span>, k: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:</span><br><span class="line">      res = []</span><br><span class="line">      </span><br><span class="line">      <span class="comment"># If we have run out of numbers to add, return res</span></span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">     	</span><br><span class="line">      <span class="keyword">if</span> <span class="built_in">len</span>(nums) &lt; k:</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">     	</span><br><span class="line">      <span class="comment"># There are k remaining values to add to the sum.</span></span><br><span class="line">      <span class="comment"># compare the smallest one and the largest one with the avg</span></span><br><span class="line">      average_value = target // k</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> average_value &lt; nums[<span class="number">0</span>] <span class="keyword">or</span> nums[-<span class="number">1</span>] &lt; average_value:</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> k == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> twoSum(nums, target)</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">       	<span class="keyword">if</span> i == <span class="number">0</span> <span class="keyword">or</span> nums[i -<span class="number">1</span>] != nums[i]:</span><br><span class="line">          <span class="keyword">for</span> subset <span class="keyword">in</span> kSum(nums[i+<span class="number">1</span>:], target - nums[i], k - i):</span><br><span class="line">            res.append([nums[i]] + subset)</span><br><span class="line">          </span><br><span class="line">      <span class="keyword">return</span> res</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">twoSum</span>(<span class="params">nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:</span><br><span class="line">      res = []</span><br><span class="line">      s = <span class="built_in">set</span>()</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(res) == <span class="number">0</span> <span class="keyword">or</span> res[-<span class="number">1</span>][<span class="number">1</span>] != nums[i]:</span><br><span class="line">          <span class="keyword">if</span> target - nums[i] <span class="keyword">in</span> s:</span><br><span class="line">            res.append([target - nums[i], nums[i]])</span><br><span class="line">          s.add(nums[i])</span><br><span class="line">      <span class="keyword">return</span> res</span><br><span class="line">    </span><br><span class="line">    nums.sort()</span><br><span class="line">    <span class="keyword">return</span> kSum(nums, target, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<h1 id="19-Remove-Nth-Node-From-End-of-List"><a href="#19-Remove-Nth-Node-From-End-of-List" class="headerlink" title="19.Remove Nth Node From End of List"></a>19.Remove Nth Node From End of List</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/remove-nth-node-from-end-of-list/">https://leetcode.com/problems/remove-nth-node-from-end-of-list/</a></p>
<blockquote>
<p>Solution 1:</p>
<p>Time complexity: O(n)</p>
<p>Space complexity: O(1)</p>
</blockquote>
<p>In this solution, we loop through the linkedlist twice. For the first time, we figure out how long the llist is. For the second time, we cut off the target node.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, next=None):</span></span><br><span class="line"><span class="comment">#         self.val = val</span></span><br><span class="line"><span class="comment">#         self.next = next</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">removeNthFromEnd</span>(<span class="params">self, head: <span class="type">Optional</span>[ListNode], n: <span class="built_in">int</span></span>) -&gt; <span class="type">Optional</span>[ListNode]:</span><br><span class="line">        </span><br><span class="line">        prev = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">while</span> head != <span class="literal">None</span>:</span><br><span class="line">            Next = head.<span class="built_in">next</span></span><br><span class="line">            head.<span class="built_in">next</span> = prev</span><br><span class="line">            <span class="keyword">if</span> Next == <span class="literal">None</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            prev = head</span><br><span class="line">            head = Next</span><br><span class="line">        </span><br><span class="line">        prev = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">while</span> head != <span class="literal">None</span>:</span><br><span class="line">            Next = head.<span class="built_in">next</span></span><br><span class="line">            <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">                head = Next</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                head.<span class="built_in">next</span> = prev</span><br><span class="line">                prev = head</span><br><span class="line">                head = Next</span><br><span class="line">        </span><br><span class="line">            n -= <span class="number">1</span></span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> prev</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2:</p>
<p>Time complexity: O(n)</p>
<p>Space complexity: O(1)</p>
</blockquote>
<p>Loop only once. Use 2 pointer, pointer one first move n steps, then pointer two starts to move.</p>
<p>First case: pointer one is not None, then let 2 pointers keep moving forward until the fast one reach None. Then the next node of the slower pointer is the node we want to drop.</p>
<p>Second case: fast pointer has already reached the last one, which means the node to be removed is the first node.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, next=None):</span></span><br><span class="line"><span class="comment">#         self.val = val</span></span><br><span class="line"><span class="comment">#         self.next = next</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">removeNthFromEnd</span>(<span class="params">self, head: <span class="type">Optional</span>[ListNode], n: <span class="built_in">int</span></span>) -&gt; <span class="type">Optional</span>[ListNode]:</span><br><span class="line">        </span><br><span class="line">        fast = head</span><br><span class="line">        <span class="keyword">while</span> n &gt; <span class="number">0</span>:</span><br><span class="line">            fast = fast.<span class="built_in">next</span></span><br><span class="line">            n -= <span class="number">1</span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> fast == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> head.<span class="built_in">next</span></span><br><span class="line">        </span><br><span class="line">        second = head</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> fast.<span class="built_in">next</span> != <span class="literal">None</span>:</span><br><span class="line">            fast = fast.<span class="built_in">next</span></span><br><span class="line">            second = second.<span class="built_in">next</span></span><br><span class="line">        </span><br><span class="line">        Next = second.<span class="built_in">next</span>.<span class="built_in">next</span></span><br><span class="line">        second.<span class="built_in">next</span> = Next</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> head</span><br></pre></td></tr></table></figure>
<h1 id="20-Valid-Parentheses"><a href="#20-Valid-Parentheses" class="headerlink" title="20.Valid Parentheses"></a>20.Valid Parentheses</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/valid-parentheses/">https://leetcode.com/problems/valid-parentheses/</a></p>
<blockquote>
<p>Solution 1:</p>
<p>Time complexity: O(n) n is the length of the string</p>
<p>Space complexity: O(n)</p>
</blockquote>
<p>Using stack to store the string</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isValid</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        stack = []</span><br><span class="line">        pairs = &#123;<span class="string">&#x27;)&#x27;</span>: <span class="string">&#x27;(&#x27;</span>, <span class="string">&#x27;&#125;&#x27;</span>: <span class="string">&#x27;&#123;&#x27;</span>, <span class="string">&#x27;]&#x27;</span>:<span class="string">&#x27;[&#x27;</span>&#125;</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)):</span><br><span class="line">            <span class="keyword">if</span> s[i] <span class="keyword">in</span> pairs.keys():</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> stack:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                target = stack.pop()</span><br><span class="line">                <span class="keyword">if</span> target != pairs[s[i]]:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                stack.append(s[i])</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> stack:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<h1 id="21-Merge-Two-Sorted-Lists"><a href="#21-Merge-Two-Sorted-Lists" class="headerlink" title="21.Merge Two Sorted Lists"></a>21.Merge Two Sorted Lists</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/merge-two-sorted-lists/">https://leetcode.com/problems/merge-two-sorted-lists/</a></p>
<blockquote>
<p>Solution 1:</p>
<p>Time complexity: O(m + n)</p>
<p>Space complexity: O(m + n)</p>
</blockquote>
<p>Go through the 2 linked lists and use another linked list for storing the result</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, next=None):</span></span><br><span class="line"><span class="comment">#         self.val = val</span></span><br><span class="line"><span class="comment">#         self.next = next</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mergeTwoLists</span>(<span class="params">self, list1: <span class="type">Optional</span>[ListNode], list2: <span class="type">Optional</span>[ListNode]</span>) -&gt; <span class="type">Optional</span>[ListNode]:</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> list1:</span><br><span class="line">          <span class="keyword">return</span> list2</span><br><span class="line">       	</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> list2:</span><br><span class="line">          <span class="keyword">return</span> list1</span><br><span class="line"></span><br><span class="line">        head = ListNode()</span><br><span class="line">        res = head</span><br><span class="line">           </span><br><span class="line">        <span class="keyword">while</span> list1 != <span class="literal">None</span> <span class="keyword">and</span> list2 != <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">if</span> list1.val &lt; list2.val:</span><br><span class="line">                head.val = list1.val</span><br><span class="line">                list1 = list1.<span class="built_in">next</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                head.val = list2.val</span><br><span class="line">                list2 = list2.<span class="built_in">next</span></span><br><span class="line">            </span><br><span class="line">            head.<span class="built_in">next</span> = ListNode()</span><br><span class="line">            head = head.<span class="built_in">next</span></span><br><span class="line">            </span><br><span class="line">        <span class="keyword">if</span> list1 != <span class="literal">None</span>:</span><br><span class="line">            head.val = list1.val</span><br><span class="line">            head.<span class="built_in">next</span> = list1.<span class="built_in">next</span></span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> list2 != <span class="literal">None</span>:</span><br><span class="line">            head.val = list2.val</span><br><span class="line">            head.<span class="built_in">next</span> = list2.<span class="built_in">next</span></span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2:</p>
<p>Time complexity: O(m + n)</p>
<p>Space complexity: O(1)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, next=None):</span></span><br><span class="line"><span class="comment">#         self.val = val</span></span><br><span class="line"><span class="comment">#         self.next = next</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mergeTwoLists</span>(<span class="params">self, list1: <span class="type">Optional</span>[ListNode], list2: <span class="type">Optional</span>[ListNode]</span>) -&gt; <span class="type">Optional</span>[ListNode]:</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> list1:</span><br><span class="line">          <span class="keyword">return</span> list2</span><br><span class="line">       	</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> list2:</span><br><span class="line">          <span class="keyword">return</span> list1</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> list1.val &lt; list2.val:</span><br><span class="line">            res = list1</span><br><span class="line">            head = list1</span><br><span class="line">            curr = list2</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            res = list2</span><br><span class="line">            head = list2</span><br><span class="line">            curr = list1</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> curr:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> head.<span class="built_in">next</span>:</span><br><span class="line">                head.<span class="built_in">next</span> = curr</span><br><span class="line">                <span class="keyword">return</span> res</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> curr.val &lt; head.<span class="built_in">next</span>.val:</span><br><span class="line">                    Next = head.<span class="built_in">next</span></span><br><span class="line">                    new = ListNode()</span><br><span class="line">                    new.val = curr.val</span><br><span class="line">                    new.<span class="built_in">next</span> = Next</span><br><span class="line">                    head.<span class="built_in">next</span> = new</span><br><span class="line">                    head = new</span><br><span class="line">                    curr = curr.<span class="built_in">next</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    head = head.<span class="built_in">next</span></span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 3: Recursion</p>
</blockquote>
<p>Recursion take more memory bc the function has to add to the stack with each recursive call and  keep the values there until the call is finished.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, next=None):</span></span><br><span class="line"><span class="comment">#         self.val = val</span></span><br><span class="line"><span class="comment">#         self.next = next</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mergeTwoLists</span>(<span class="params">self, list1: <span class="type">Optional</span>[ListNode], list2: <span class="type">Optional</span>[ListNode]</span>) -&gt; <span class="type">Optional</span>[ListNode]:</span><br><span class="line">        <span class="keyword">if</span> list1 == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> list2</span><br><span class="line">        <span class="keyword">if</span> list2 == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> list1</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> list1.val &lt; list2.val:</span><br><span class="line">            list1.<span class="built_in">next</span> = self.mergeTwoLists(list1.<span class="built_in">next</span>, list2)</span><br><span class="line">            <span class="keyword">return</span> list1</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            list2.<span class="built_in">next</span> = self.mergeTwoLists(list1, list2.<span class="built_in">next</span>)</span><br><span class="line">            <span class="keyword">return</span> list2</span><br></pre></td></tr></table></figure>
<h1 id="22-Generate-Parenthese"><a href="#22-Generate-Parenthese" class="headerlink" title="22 Generate Parenthese"></a>22 Generate Parenthese</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/generate-parentheses/">https://leetcode.com/problems/generate-parentheses/</a></p>
<blockquote>
<p>Solution 1: recursion</p>
</blockquote>
<p>First of all, we give the answer a structure, as in “(left)right”. We can easily get the rule, which is #parentheseInLeft + #parentheseInRight == n - 1. Last, we applied recursion to it.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">generateParenthesis</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">str</span>]:</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> [<span class="string">&quot;&quot;</span>]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> [<span class="string">&quot;()&quot;</span>]</span><br><span class="line">        </span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> left <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> self.generateParenthesis(left):</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> self.generateParenthesis(n - <span class="number">1</span> - left):</span><br><span class="line">                    res.append(<span class="string">&quot;(&quot;</span> + i + <span class="string">&quot;)&quot;</span> + j)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Catalan Number</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="http://lanqi.org/interests/10939/">http://lanqi.org/interests/10939/</a></p>
<p>In First In First Out scenario, Out cannot happened when no element is in stack.</p>
<h1 id="23-Merge-k-Sorted-Lists"><a href="#23-Merge-k-Sorted-Lists" class="headerlink" title="23. Merge k Sorted Lists"></a>23. Merge k Sorted Lists</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/merge-k-sorted-lists/">https://leetcode.com/problems/merge-k-sorted-lists/</a></p>
<blockquote>
<p>Solution1:</p>
<p>Compare N = len(lists) times in total</p>
</blockquote>
<p>Use <a target="_blank" rel="noopener" href="https://leetcode.com/problems/merge-two-sorted-lists/">https://leetcode.com/problems/merge-two-sorted-lists/</a> merge 2 sorted lists method. And merge the k lists one by one.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, next=None):</span></span><br><span class="line"><span class="comment">#         self.val = val</span></span><br><span class="line"><span class="comment">#         self.next = next</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mergeTwoLists</span>(<span class="params">self, list1, list2</span>):</span><br><span class="line">        <span class="keyword">if</span> list1 == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> list2</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> list2 == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> list1</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> list1.val &lt; list2.val:</span><br><span class="line">            list1.<span class="built_in">next</span> = self.mergeTwoLists(list1.<span class="built_in">next</span>, list2)</span><br><span class="line">            <span class="keyword">return</span> list1</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            list2.<span class="built_in">next</span> = self.mergeTwoLists(list1, list2.<span class="built_in">next</span>)</span><br><span class="line">            <span class="keyword">return</span> list2</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mergeKLists</span>(<span class="params">self, lists: <span class="type">List</span>[<span class="type">Optional</span>[ListNode]]</span>) -&gt; <span class="type">Optional</span>[ListNode]:</span><br><span class="line">        <span class="keyword">if</span> lists == []:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">            </span><br><span class="line">        res = lists[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> l <span class="keyword">in</span> lists[<span class="number">1</span>:]:</span><br><span class="line">            res = self.mergeTwoLists(res, l)</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 1-1: Based on solution 1</p>
<p>Compare log(N) N = len(lists) times in total by impleming recursion</p>
</blockquote>
<img src="/2022/12/05/Leetcode/14.png" class="" title="This is an image">
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, next=None):</span></span><br><span class="line"><span class="comment">#         self.val = val</span></span><br><span class="line"><span class="comment">#         self.next = next</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mergeTwoLists</span>(<span class="params">self, list1, list2</span>):</span><br><span class="line">        <span class="keyword">if</span> list1 == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> list2</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> list2 == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> list1</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> list1.val &lt; list2.val:</span><br><span class="line">            list1.<span class="built_in">next</span> = self.mergeTwoLists(list1.<span class="built_in">next</span>, list2)</span><br><span class="line">            <span class="keyword">return</span> list1</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            list2.<span class="built_in">next</span> = self.mergeTwoLists(list1, list2.<span class="built_in">next</span>)</span><br><span class="line">            <span class="keyword">return</span> list2</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mergeKLists</span>(<span class="params">self, lists: <span class="type">List</span>[<span class="type">Optional</span>[ListNode]]</span>) -&gt; <span class="type">Optional</span>[ListNode]:</span><br><span class="line">        <span class="keyword">if</span> lists == []:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">            </span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(lists) == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> lists[<span class="number">0</span>]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(lists) == <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> self.mergeTwoLists(lists[<span class="number">0</span>], lists[<span class="number">1</span>])</span><br><span class="line">        </span><br><span class="line">        mid = <span class="built_in">len</span>(lists) // <span class="number">2</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> self.mergeTwoLists(self.mergeKLists(lists[:mid]), self.mergeKLists(lists[mid:]))     </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2:</p>
<p>Time complexity: O(kn) k is the length of the list, n is the max length of lists.</p>
<p>Space complexity: O(N) N is sum of all the lengths</p>
</blockquote>
<p>Vertically compare each lists. Use another list to store the result. Create a empty head node to indicate the start of the result list, this node will be discarded at last.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, next=None):</span></span><br><span class="line"><span class="comment">#         self.val = val</span></span><br><span class="line"><span class="comment">#         self.next = next</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mergeKLists</span>(<span class="params">self, lists: <span class="type">List</span>[<span class="type">Optional</span>[ListNode]]</span>) -&gt; <span class="type">Optional</span>[ListNode]:</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> lists:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">         </span><br><span class="line">        res = ListNode()</span><br><span class="line">        head = res</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            residx = <span class="literal">None</span></span><br><span class="line">            MIN = <span class="number">10</span>**<span class="number">4</span> + <span class="number">1</span></span><br><span class="line">            isbreak = <span class="literal">True</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(lists)):</span><br><span class="line">                <span class="keyword">if</span> lists[i]:</span><br><span class="line">                    isbreak = <span class="literal">False</span></span><br><span class="line">                    <span class="keyword">if</span> lists[i].val &lt; MIN:</span><br><span class="line">                        residx = i</span><br><span class="line">                        MIN = lists[i].val</span><br><span class="line"></span><br><span class="line">                </span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> isbreak:</span><br><span class="line">                res.<span class="built_in">next</span> = ListNode()</span><br><span class="line">                res = res.<span class="built_in">next</span></span><br><span class="line">                res.val = lists[residx].val</span><br><span class="line">                lists[residx] = lists[residx].<span class="built_in">next</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">                </span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> head.<span class="built_in">next</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2-1: Based on sol2</p>
<p>Time complexity: O(kn) k is the length of the list, n is the max length of lists.</p>
<p>Space complexity: O(1) store the result linkedlist by changing the next node of the curr smallest value. </p>
</blockquote>
<p>Create a empty head node to indicate the start of the result list, this node will be discarded at last.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, next=None):</span></span><br><span class="line"><span class="comment">#         self.val = val</span></span><br><span class="line"><span class="comment">#         self.next = next</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mergeKLists</span>(<span class="params">self, lists: <span class="type">List</span>[<span class="type">Optional</span>[ListNode]]</span>) -&gt; <span class="type">Optional</span>[ListNode]:</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> lists:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">         </span><br><span class="line">        res = ListNode()</span><br><span class="line">        head = res</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            residx = <span class="literal">None</span></span><br><span class="line">            MIN = <span class="number">10</span>**<span class="number">4</span> + <span class="number">1</span></span><br><span class="line">            isbreak = <span class="literal">True</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(lists)):</span><br><span class="line">                <span class="keyword">if</span> lists[i]:</span><br><span class="line">                    isbreak = <span class="literal">False</span></span><br><span class="line">                    <span class="keyword">if</span> lists[i].val &lt; MIN:</span><br><span class="line">                        residx = i</span><br><span class="line">                        MIN = lists[i].val</span><br><span class="line"></span><br><span class="line">                </span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> isbreak:</span><br><span class="line">                res.<span class="built_in">next</span> = lists[residx]</span><br><span class="line">                res = res.<span class="built_in">next</span></span><br><span class="line">                lists[residx] = lists[residx].<span class="built_in">next</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">                </span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> head.<span class="built_in">next</span></span><br><span class="line">        </span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution3: Java priority queue</p>
<p>Time complexity: O(Nlog(k))</p>
<p>Space complexity: O(k)</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">mergeKLists</span><span class="params">(ListNode[] lists)</span> &#123;</span><br><span class="line">        <span class="comment">//定义优先队列的比较器</span></span><br><span class="line">        Comparator&lt;ListNode&gt; cmp;</span><br><span class="line">        cmp = <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;ListNode&gt;() &#123;  </span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(ListNode o1, ListNode o2)</span> &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">            <span class="keyword">return</span> o1.val-o2.val;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//建立队列</span></span><br><span class="line">        Queue&lt;ListNode&gt; q = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;ListNode&gt;(cmp);</span><br><span class="line">        <span class="keyword">for</span>(ListNode l : lists)&#123;</span><br><span class="line">            <span class="keyword">if</span>(l!=<span class="literal">null</span>)&#123;</span><br><span class="line">                q.add(l);</span><br><span class="line">            &#125;        </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">head</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">point</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span>(!q.isEmpty())&#123;</span><br><span class="line">            <span class="comment">//出队列</span></span><br><span class="line">            point.next = q.poll();</span><br><span class="line">            point = point.next;</span><br><span class="line">            <span class="comment">//判断当前链表是否为空，不为空就将新元素入队</span></span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">next</span> <span class="operator">=</span> point.next;</span><br><span class="line">            <span class="keyword">if</span>(next!=<span class="literal">null</span>)&#123;</span><br><span class="line">                q.add(next);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> head.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>priority queue basics</strong></p>
<ul>
<li>Example</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PriorityQueueTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Queue&lt;Integer&gt; queue1 = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;Integer&gt;();</span><br><span class="line">        queue1.add(<span class="number">2</span>);</span><br><span class="line">        queue1.add(<span class="number">1</span>);</span><br><span class="line">        queue1.add(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!queue1.isEmpty()) &#123;</span><br><span class="line">            <span class="type">Integer</span> <span class="variable">i</span> <span class="operator">=</span> queue1.poll();</span><br><span class="line">            System.out.println(i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Comparator&lt;Student&gt; comparator = <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Student&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student o1, Student o2)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> (o1.id - o2.id);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        Queue&lt;Student&gt; queue2 = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;Student&gt;(comparator);</span><br><span class="line">        queue2.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">2</span>, <span class="string">&quot;B&quot;</span>));</span><br><span class="line">        queue2.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">1</span>, <span class="string">&quot;A&quot;</span>));</span><br><span class="line">        queue2.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">3</span>, <span class="string">&quot;C&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!queue2.isEmpty()) &#123;</span><br><span class="line">            <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> queue2.poll();</span><br><span class="line">            System.out.println(s.toString());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">        <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(<span class="type">int</span> id, String name)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.id = id;</span><br><span class="line">            <span class="built_in">this</span>.name = name;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> id + <span class="string">&quot;-&quot;</span> + name;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Explanation </li>
</ul>
<p>A complete binary tree is a binary tree in which every level, except possibly the last, is completely filled, and all nodes in the last level are as far left as possible.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Priority queue represented as a balanced binary heap: the two</span></span><br><span class="line"><span class="comment"> * children of queue[n] are queue[2*n+1] and queue[2*(n+1)].  The</span></span><br><span class="line"><span class="comment"> * priority queue is ordered by comparator, or by the elements&#x27;</span></span><br><span class="line"><span class="comment"> * natural ordering, if comparator is null: For each node n in the</span></span><br><span class="line"><span class="comment"> * heap and each descendant d of n, n &lt;= d.  The element with the</span></span><br><span class="line"><span class="comment"> * lowest value is in queue[0], assuming the queue is nonempty.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">transient</span> Object[] queue; <span class="comment">// non-private to simplify nested class access</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * The number of elements in the priority queue.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure>
<p>leftNo = parentNo * 2 + 1</p>
<p>rightNo = parentNo * 2 + 2</p>
<p>parentNo = (nodeNo - 1) / 2</p>
<p><code>add(E e)</code> 和 <code>offer(E e)</code> 操作的时间复杂度为 log(N)：</p>
<p>The Java.util.PriorityQueue.add() method in Java is used to add a specific element into a PriorityQueue. This method internally just calls the Java.util.PriorityQueue.offer() method with the value passed to it. So, it exactly works like offer() method.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">offer</span><span class="params">(E e)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (e == <span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>();</span><br><span class="line">    modCount++;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> size;</span><br><span class="line">    <span class="keyword">if</span> (i &gt;= queue.length)</span><br><span class="line">        grow(i + <span class="number">1</span>);</span><br><span class="line">    size = i + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">0</span>)</span><br><span class="line">        queue[<span class="number">0</span>] = e;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        siftUp(i, e);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>poll()</code> 操作的时间复杂度为 log(N)：</p>
<p>The java.util.PriorityQueue.poll() method in Java is used to <strong>retrieve or fetch</strong> and <strong>remove</strong> the first element of the Queue or the element present at the head of the Queue. </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> E <span class="title">poll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (size == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> null;</span><br><span class="line">    <span class="type">int</span> s = --size;</span><br><span class="line">    modCount++;</span><br><span class="line">    E result = (E) queue[<span class="number">0</span>];</span><br><span class="line">    E x = (E) queue[s];</span><br><span class="line">    queue[s] = null;</span><br><span class="line">    <span class="keyword">if</span> (s != <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">siftDown</span>(<span class="number">0</span>, x);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>peek()</code> 操作的时间复杂度为 O(1)：</p>
<p>The <a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/priorityqueue-peek-method-in-java/">peek()</a> method only retrieved the element at the head but the poll() also removes the element along with the retrieval. It returns NULL if the queue is empty.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> E <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (size == <span class="number">0</span>) ? null : (E) queue[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Prioprity Queue can also solve problem: <strong>Find Median from Data Stream</strong></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/4ba0d66ef04c">https://www.jianshu.com/p/4ba0d66ef04c</a></p>
<h1 id="24-Swap-Nodes-in-Pairs"><a href="#24-Swap-Nodes-in-Pairs" class="headerlink" title="24.Swap Nodes in Pairs"></a>24.Swap Nodes in Pairs</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/swap-nodes-in-pairs/description/">https://leetcode.com/problems/swap-nodes-in-pairs/description/</a></p>
<blockquote>
<p>Solution1:</p>
<p>Time complexity: O(n)</p>
<p>Space complexity: O(1)</p>
</blockquote>
<p>reorganize it by changing where the pointer of each node pointing to</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, next=None):</span></span><br><span class="line"><span class="comment">#         self.val = val</span></span><br><span class="line"><span class="comment">#         self.next = next</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">swapPairs</span>(<span class="params">self, head: <span class="type">Optional</span>[ListNode]</span>) -&gt; <span class="type">Optional</span>[ListNode]:</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head <span class="keyword">or</span> <span class="keyword">not</span> head.<span class="built_in">next</span>:</span><br><span class="line">            <span class="keyword">return</span> head</span><br><span class="line"></span><br><span class="line">        curr = head</span><br><span class="line">        Prev = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> curr <span class="keyword">and</span> curr.<span class="built_in">next</span>:</span><br><span class="line">            Next = curr.<span class="built_in">next</span></span><br><span class="line">            curr.<span class="built_in">next</span> = Next.<span class="built_in">next</span></span><br><span class="line">            Next.<span class="built_in">next</span> = curr </span><br><span class="line">   </span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> Prev:</span><br><span class="line">                head = Next</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                Prev.<span class="built_in">next</span> = Next</span><br><span class="line">                </span><br><span class="line">            Prev = curr</span><br><span class="line">            curr = curr.<span class="built_in">next</span> </span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> head</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution2: — recursion</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, next=None):</span></span><br><span class="line"><span class="comment">#         self.val = val</span></span><br><span class="line"><span class="comment">#         self.next = next</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">swapPairs</span>(<span class="params">self, head: <span class="type">Optional</span>[ListNode]</span>) -&gt; <span class="type">Optional</span>[ListNode]:</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head <span class="keyword">or</span> <span class="keyword">not</span> head.<span class="built_in">next</span>:</span><br><span class="line">            <span class="keyword">return</span> head</span><br><span class="line"></span><br><span class="line">        Next = head.<span class="built_in">next</span></span><br><span class="line">        NN = Next.<span class="built_in">next</span></span><br><span class="line">        Next.<span class="built_in">next</span> = head</span><br><span class="line">        head.<span class="built_in">next</span> = self.swapPairs(NN)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Next</span><br></pre></td></tr></table></figure>
<h1 id="25-Reverse-Nodes-in-k-Group"><a href="#25-Reverse-Nodes-in-k-Group" class="headerlink" title="25.Reverse Nodes in k-Group"></a>25.Reverse Nodes in k-Group</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/reverse-nodes-in-k-group/">https://leetcode.com/problems/reverse-nodes-in-k-group/</a></p>
<blockquote>
<p>Solution1: - recursion</p>
<p>Time complexity: O(n)</p>
<p>Space complexity: O(1)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, next=None):</span></span><br><span class="line"><span class="comment">#         self.val = val</span></span><br><span class="line"><span class="comment">#         self.next = next</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">reverseKGroup</span>(<span class="params">self, head: <span class="type">Optional</span>[ListNode], k: <span class="built_in">int</span></span>) -&gt; <span class="type">Optional</span>[ListNode]:</span><br><span class="line">        <span class="keyword">if</span> k == <span class="number">1</span> <span class="keyword">or</span> <span class="keyword">not</span> head <span class="keyword">or</span> <span class="keyword">not</span> head.<span class="built_in">next</span>:</span><br><span class="line">            <span class="keyword">return</span> head</span><br><span class="line">        </span><br><span class="line">        <span class="comment">## check the length of the remaining llist</span></span><br><span class="line">        count = k</span><br><span class="line">        tmp = head</span><br><span class="line">        <span class="keyword">while</span> count &gt; <span class="number">1</span>:</span><br><span class="line">            tmp = tmp.<span class="built_in">next</span></span><br><span class="line">            count -=<span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> tmp:</span><br><span class="line">                <span class="keyword">return</span> head</span><br><span class="line">        </span><br><span class="line">        <span class="comment">## reverse</span></span><br><span class="line">        curr = head.<span class="built_in">next</span></span><br><span class="line">        tail = head</span><br><span class="line">        count = k</span><br><span class="line">        <span class="keyword">while</span> count &gt; <span class="number">1</span> <span class="keyword">and</span> curr:</span><br><span class="line">            Next = curr.<span class="built_in">next</span></span><br><span class="line">            curr.<span class="built_in">next</span> = head</span><br><span class="line">            head = curr</span><br><span class="line">            curr = Next</span><br><span class="line">            count -= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        tail.<span class="built_in">next</span> = self.reverseKGroup(curr, k)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> head</span><br></pre></td></tr></table></figure>
<h1 id="26-Remove-Duplicates-from-Sorted-Array"><a href="#26-Remove-Duplicates-from-Sorted-Array" class="headerlink" title="26.Remove Duplicates from Sorted Array"></a>26.Remove Duplicates from Sorted Array</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/remove-duplicates-from-sorted-array/">https://leetcode.com/problems/remove-duplicates-from-sorted-array/</a></p>
<blockquote>
<p>Solution1:</p>
<p>Time complexity: O(n)</p>
<p>Space complexity: O(1)</p>
</blockquote>
<p>Using two pointer, one for the next index of result list, the other for the next index of given list.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">removeDuplicates</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:    </span><br><span class="line">        curr = <span class="number">1</span></span><br><span class="line">        pos = <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> curr &lt; <span class="built_in">len</span>(nums):</span><br><span class="line">            <span class="keyword">if</span> nums[curr] != nums[curr-<span class="number">1</span>]:</span><br><span class="line">                nums[pos] = nums[curr]</span><br><span class="line">                pos += <span class="number">1</span></span><br><span class="line">            curr += <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> pos</span><br></pre></td></tr></table></figure>
<h1 id="27-Remove-Element"><a href="#27-Remove-Element" class="headerlink" title="27. Remove Element"></a>27. Remove Element</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/remove-element/">https://leetcode.com/problems/remove-element/</a></p>
<blockquote>
<p>Solution1:</p>
<p>Time complexity: O(n)</p>
<p>Space complexity: O(1)</p>
</blockquote>
<p>Using double pointer, one to the start, one to the end. If start pointer meet val, then replace the value with the number end pointer is pointing to.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">removeElement</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], val: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        </span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        end = <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> start &lt;= end:</span><br><span class="line">            <span class="keyword">if</span> nums[start] != val:</span><br><span class="line">                start += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                nums[start] = nums[end]</span><br><span class="line">                end -= <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> start</span><br><span class="line">            </span><br></pre></td></tr></table></figure>
<h1 id="28-Find-the-Index-of-the-First-Occurrence-in-a-String"><a href="#28-Find-the-Index-of-the-First-Occurrence-in-a-String" class="headerlink" title="28. Find the Index of the First Occurrence in a String"></a>28. Find the Index of the First Occurrence in a String</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/find-the-index-of-the-first-occurrence-in-a-string/">https://leetcode.com/problems/find-the-index-of-the-first-occurrence-in-a-string/</a></p>
<blockquote>
<p>Solution 1: Knuth-Morris-Pratt Algorithm</p>
<p>Time complexity: O(m + n) </p>
</blockquote>
<p>Given string: length m</p>
<p>Pattern: length n</p>
<p><strong>if pattern is empty string, then we return 0</strong></p>
<p><strong>Naive</strong>  O(mn)</p>
<p><strong>K-M-P Algorithm</strong> O(n + m)</p>
<p><code>part 1: LPS table: Longest Prefix same as Suffix</code></p>
<p><strong>Prefix</strong>: A proper prefix of a string is not equal to the string itself. also non-empty. A prefix can be seen as a special case of a substring. The prefix cannot be the entire string itself. So the first position of LPS will always be ZERO.</p>
<p><strong>Suffix</strong>: Same rule applies to suffix.</p>
<p><code>Part 2: Loop through the String</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">strStr</span>(<span class="params">self, haystack: <span class="built_in">str</span>, needle: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="keyword">if</span> needle == <span class="string">&quot;&quot;</span>: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        table = [<span class="number">0</span>] * <span class="built_in">len</span>(needle)</span><br><span class="line">        <span class="comment"># build the LPS table: finding the max prefix == suffix</span></span><br><span class="line">        prevLPS = <span class="number">0</span></span><br><span class="line">        j = <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> j &lt; <span class="built_in">len</span>(needle):</span><br><span class="line">            <span class="keyword">if</span> needle[j] == needle[prevLPS]:</span><br><span class="line">                table[j] = prevLPS + <span class="number">1</span></span><br><span class="line">                prevLPS += <span class="number">1</span></span><br><span class="line">                j += <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> prevLPS == <span class="number">0</span>:</span><br><span class="line">                table[j] = <span class="number">0</span></span><br><span class="line">                j += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                prevLPS = table[prevLPS - <span class="number">1</span>]</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># Loop through the haystack</span></span><br><span class="line"></span><br><span class="line">        ni = <span class="number">0</span></span><br><span class="line">        hi = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> hi &lt; <span class="built_in">len</span>(haystack):</span><br><span class="line">            <span class="keyword">if</span> haystack[hi] == needle[ni]:</span><br><span class="line">                ni += <span class="number">1</span></span><br><span class="line">                hi += <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> ni == <span class="built_in">len</span>(needle):</span><br><span class="line">                    <span class="keyword">return</span> hi - <span class="built_in">len</span>(needle)</span><br><span class="line">                </span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> ni == <span class="number">0</span>:</span><br><span class="line">                   hi += <span class="number">1</span>     </span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    ni = table[ni-<span class="number">1</span>]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2: Using C++ library</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="type">int</span> <span class="title">strStr</span><span class="params">(String haystack, String needle)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; ; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; ; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (j == needle.<span class="built_in">length</span>()) <span class="keyword">return</span> i;</span><br><span class="line">      <span class="keyword">if</span> (i + j == haystack.<span class="built_in">length</span>()) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">      <span class="keyword">if</span> (needle.<span class="built_in">charAt</span>(j) != haystack.<span class="built_in">charAt</span>(i + j)) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="29-Divde-Two-Integers"><a href="#29-Divde-Two-Integers" class="headerlink" title="29. Divde Two Integers"></a>29. Divde Two Integers</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/divide-two-integers/">https://leetcode.com/problems/divide-two-integers/</a></p>
<blockquote>
<p>Solution1: bit operation</p>
<p>Time complexity: O(32) </p>
</blockquote>
<p>First deal with some special cases, then use bit operation(right shift or left shift).</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">divide</span>(<span class="params">self, dividend: <span class="built_in">int</span>, divisor: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> dividend == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> divisor == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> dividend</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> divisor == -<span class="number">1</span> <span class="keyword">and</span> dividend == -<span class="number">2</span> ** <span class="number">31</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">2</span> ** <span class="number">31</span> - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        neg = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">if</span> (dividend &gt; <span class="number">0</span>) == (divisor &gt; <span class="number">0</span>):</span><br><span class="line">            neg = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> dividend == -<span class="number">2</span>**<span class="number">31</span>:</span><br><span class="line">            <span class="keyword">if</span> divisor &gt; <span class="number">0</span>:</span><br><span class="line">                dividend += divisor</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                dividend -= divisor</span><br><span class="line">            res += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        dividend = -dividend <span class="keyword">if</span> dividend &lt; <span class="number">0</span> <span class="keyword">else</span> dividend</span><br><span class="line">        divisor = -divisor <span class="keyword">if</span> divisor &lt; <span class="number">0</span> <span class="keyword">else</span> divisor</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">31</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> (dividend &gt;&gt; i) - divisor &gt;= <span class="number">0</span>:</span><br><span class="line">                dividend -= divisor &lt;&lt; i</span><br><span class="line">                res += <span class="number">1</span> &lt;&lt; i</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> -res <span class="keyword">if</span> neg <span class="keyword">else</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2: get inspired by <a target="_blank" rel="noopener" href="https://leetcode.com/problems/divide-two-integers/solutions/142849/c-java-python-should-not-use-long-int/">https://leetcode.com/problems/divide-two-integers/solutions/142849/c-java-python-should-not-use-long-int/</a></p>
</blockquote>
<p>SO DAMN COOL</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">divide</span>(<span class="params">self, dividend: <span class="built_in">int</span>, divisor: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        sign = -<span class="number">1</span> <span class="keyword">if</span> (dividend &gt;= <span class="number">0</span> <span class="keyword">and</span> divisor &lt; <span class="number">0</span>) <span class="keyword">or</span> (dividend &lt; <span class="number">0</span> <span class="keyword">and</span> divisor &gt;= <span class="number">0</span>) <span class="keyword">else</span> <span class="number">1</span></span><br><span class="line">        dividend = <span class="built_in">abs</span>(dividend)</span><br><span class="line">        divisor = <span class="built_in">abs</span>(divisor)</span><br><span class="line">        </span><br><span class="line">        result = <span class="built_in">len</span>(<span class="built_in">range</span>(<span class="number">0</span>, dividend-divisor+<span class="number">1</span>, divisor))</span><br><span class="line">        <span class="keyword">if</span> sign == -<span class="number">1</span>:</span><br><span class="line">            result = -result</span><br><span class="line">        minus_limit = -(<span class="number">2</span>**<span class="number">31</span>)</span><br><span class="line">        plus_limit = (<span class="number">2</span>**<span class="number">31</span> - <span class="number">1</span>)</span><br><span class="line">        result = <span class="built_in">min</span>(<span class="built_in">max</span>(result, minus_limit), plus_limit)</span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>
<h1 id="30-Substring-with-Concatenation-of-All-Words"><a href="#30-Substring-with-Concatenation-of-All-Words" class="headerlink" title="30.Substring with Concatenation of All Words"></a>30.Substring with Concatenation of All Words</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/substring-with-concatenation-of-all-words/description/">https://leetcode.com/problems/substring-with-concatenation-of-all-words/description/</a></p>
<blockquote>
<p>Solution 1:</p>
<p>Time Complexity: O(LN) L - is the sum of the length of word in words. N - length of the string. (sorting the list also time-consuming)</p>
</blockquote>
<p>keep track of the starting point by using two pointers. Check every substring.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">findSubstring</span>(<span class="params">self, s: <span class="built_in">str</span>, words: <span class="type">List</span>[<span class="built_in">str</span>]</span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># sliding window</span></span><br><span class="line">        words = <span class="built_in">sorted</span>(words)</span><br><span class="line">        LEN = <span class="built_in">len</span>(words[<span class="number">0</span>])</span><br><span class="line">        i = <span class="number">0</span> <span class="comment">## keep track of the start index</span></span><br><span class="line">        j = <span class="number">0</span></span><br><span class="line">        res = []</span><br><span class="line">        tmp = []</span><br><span class="line">        <span class="keyword">while</span> j &lt; <span class="built_in">len</span>(s):</span><br><span class="line">            <span class="keyword">if</span> s[j:j+LEN] <span class="keyword">in</span> words:</span><br><span class="line">                tmp.append(s[j:j+LEN])</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">len</span>(tmp) == <span class="built_in">len</span>(words):</span><br><span class="line">                    <span class="keyword">if</span> <span class="built_in">sorted</span>(tmp) == words:</span><br><span class="line">                        res.append(i)</span><br><span class="line">                    i += <span class="number">1</span></span><br><span class="line">                    j = i</span><br><span class="line">                    tmp = []</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    j = j+ LEN</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">                j = i</span><br><span class="line">                tmp = []</span><br><span class="line">                </span><br><span class="line">                      </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 1-1: using hashmap replace sorted</p>
</blockquote>
<p>Comparing hashmap instead of List</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">findSubstring</span>(<span class="params">self, s: <span class="built_in">str</span>, words: <span class="type">List</span>[<span class="built_in">str</span>]</span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span><br><span class="line">        </span><br><span class="line">        W = &#123;&#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> w <span class="keyword">in</span> words:</span><br><span class="line">            <span class="keyword">if</span> W.get(w):</span><br><span class="line">                W[w] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                W[w] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        LEN = <span class="built_in">len</span>(words[<span class="number">0</span>])</span><br><span class="line">        i = <span class="number">0</span> <span class="comment">## keep track of the start index</span></span><br><span class="line">        j = <span class="number">0</span></span><br><span class="line">        res = []</span><br><span class="line"></span><br><span class="line">        tmp = &#123;&#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> j &lt; <span class="built_in">len</span>(s):</span><br><span class="line">            <span class="keyword">if</span> s[j:j+LEN] <span class="keyword">in</span> words:</span><br><span class="line">                <span class="keyword">if</span> tmp.get(s[j:j+LEN]):</span><br><span class="line">                    tmp[s[j:j+LEN]] += <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    tmp[s[j:j+LEN]] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> tmp[s[j:j+LEN]] &gt; W[s[j:j+LEN]]:</span><br><span class="line">                    i += <span class="number">1</span></span><br><span class="line">                    j = i</span><br><span class="line">                    tmp = &#123;&#125;</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">   </span><br><span class="line">                <span class="keyword">if</span> tmp == W:</span><br><span class="line">                    res.append(i)</span><br><span class="line">                    i += <span class="number">1</span></span><br><span class="line">                    j = i</span><br><span class="line">                    tmp = &#123;&#125;</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    j = j+ LEN</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">                j = i</span><br><span class="line">                tmp = &#123;&#125;</span><br><span class="line">                </span><br><span class="line">                      </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<h1 id="31-Next-Permutation"><a href="#31-Next-Permutation" class="headerlink" title="31. Next Permutation"></a>31. Next Permutation</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/next-permutation/">https://leetcode.com/problems/next-permutation/</a></p>
<blockquote>
<p>solution 1:</p>
<p>Time Complexity: O(n**2)</p>
<p>Space Complexity: O(1)</p>
</blockquote>
<ul>
<li>Find the first occurance of nums[i-1] &lt; nums[i]</li>
<li>Exchange nums[i-1] with the smallest one of the numbers larger than nums[i-1] with index large equal to [i]</li>
<li>Then, sort nums[i:] <code>using bubble sort</code>O(n**2)</li>
<li>If all nums sorted in reverse order, then return a sorted list</li>
</ul>
<p>Following the above rule Example:</p>
<p>1 2[i-1] | 3[i] -&gt; 2 &lt; 3</p>
<p>1[i-1] | 3[i] 2 -&gt; 1 &lt; 2</p>
<p>2 1[i-1] | 3[i] -&gt; 1 &gt; 3</p>
<p>2[i-1] | 3[i] 1 -&gt; 2 &lt; 3</p>
<p>3 1[i-1] | 2[i] -&gt; 1 &lt; 2</p>
<p>3[i] 2 1 -&gt; return 1 2 3</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">            </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">nextPermutation</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Do not return anything, modify nums in-place instead.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(nums) == <span class="number">1</span>: <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)-<span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">if</span> nums[i] &gt; nums[i - <span class="number">1</span>]:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> i != <span class="number">0</span>:  </span><br><span class="line">            target = i</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i+<span class="number">1</span>, <span class="built_in">len</span>(nums)):</span><br><span class="line">                <span class="keyword">if</span> nums[j] &lt; nums[target] <span class="keyword">and</span> nums[j] &gt; nums[i-<span class="number">1</span>]:</span><br><span class="line">                    target = j</span><br><span class="line">            </span><br><span class="line">            tmp = nums[target]</span><br><span class="line">            nums[target] = nums[i-<span class="number">1</span>]</span><br><span class="line">            nums[i-<span class="number">1</span>] = tmp</span><br><span class="line"></span><br><span class="line">        <span class="comment"># sort nums[i:]</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            finish = <span class="literal">True</span></span><br><span class="line">            k = i</span><br><span class="line">            <span class="keyword">while</span> k &lt; <span class="built_in">len</span>(nums) - <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">if</span> nums[k] &gt; nums[k + <span class="number">1</span>]:</span><br><span class="line">                    tmp = nums[k]</span><br><span class="line">                    nums[k] = nums[k+<span class="number">1</span>]</span><br><span class="line">                    nums[k+<span class="number">1</span>] = tmp</span><br><span class="line">                    finish = <span class="literal">False</span></span><br><span class="line">                k += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> finish:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 1-1:</p>
<p>Time Complexity: O(n)</p>
<p>Space Complexity: O(1)</p>
</blockquote>
<p>Same algorithm</p>
<p>The reason why We need to swap nums[i-1] with a number from nums[i:] is that nums[i:] is sorted in reversed order. And after swapping operation, the list is still in revered order. So that we don’t need to bubble sort nums[i:], we only need to do reverse to nums[1:] to make sure its in non-descending order.</p>
<p>Bubble sort is not needed in this case, Reverse time complexity is O(n).</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:     </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">nextPermutation</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Do not return anything, modify nums in-place instead.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(nums) == <span class="number">1</span>: <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)-<span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">if</span> nums[i] &gt; nums[i - <span class="number">1</span>]:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> i != <span class="number">0</span>:  </span><br><span class="line">            target = i</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i+<span class="number">1</span>, <span class="built_in">len</span>(nums)):</span><br><span class="line">                <span class="keyword">if</span> nums[j] &lt;= nums[target] <span class="keyword">and</span> nums[j] &gt; nums[i-<span class="number">1</span>]:</span><br><span class="line">                    target = j</span><br><span class="line">            </span><br><span class="line">            tmp = nums[target]</span><br><span class="line">            nums[target] = nums[i-<span class="number">1</span>]</span><br><span class="line">            nums[i-<span class="number">1</span>] = tmp</span><br><span class="line"></span><br><span class="line">        <span class="comment"># sort nums[i:]</span></span><br><span class="line"></span><br><span class="line">        j = <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> i &lt; j:</span><br><span class="line">            tmp = nums[i]</span><br><span class="line">            nums[i] = nums[j]</span><br><span class="line">            nums[j] = tmp</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">            j -= <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span></span><br></pre></td></tr></table></figure>
<h1 id="32-Longest-Valid-Parentheses"><a href="#32-Longest-Valid-Parentheses" class="headerlink" title="32.Longest Valid Parentheses"></a>32.Longest Valid Parentheses</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/longest-valid-parentheses/description/">https://leetcode.com/problems/longest-valid-parentheses/description/</a></p>
<blockquote>
<p>Solution 1: Dynamic programming</p>
<p>Time Complexity: O(n)</p>
<p>Space Complexity: O(n)</p>
</blockquote>
<p>index 0 1 2 3 4 5 6 7</p>
<p>——- ( ) ( ) ( ( ) )</p>
<p>dp    0 2 0 4 0 0 2 8</p>
<p>dp[i] represents the maximun length of legit substring</p>
<p>we initialize dp array with all zeros, the substring ends  with ‘(‘ is not legit.</p>
<p>The substring ends with ‘)’:</p>
<ul>
<li>The second last one is ‘(‘<ul>
<li>In this case dp[i] = dp[i-1] = dp[i-2] + 2</li>
<li>For example, i=3 in the obove case</li>
</ul>
</li>
<li>The second last one is ‘)’<ul>
<li>In this case we need to check index = i - dp[i-1] - 1.<ul>
<li>If its ‘(‘, then dp [ i ] = dp [ i - 1 ] + dp [ i - dp [ i - 1] - 2 ] + 2<ul>
<li>For example, ie=7 in the obove case</li>
</ul>
</li>
<li>If  its ‘)’, then dp[i] = 0 bc of no matching left parenthesis.</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">longestValidParentheses</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        dp = <span class="built_in">len</span>(s) * [<span class="number">0</span>]</span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(s)):</span><br><span class="line">            <span class="keyword">if</span> s[i] == <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> s[i-<span class="number">1</span>] == <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">                <span class="keyword">if</span> i &lt; <span class="number">2</span>:</span><br><span class="line">                    dp[i] = <span class="number">2</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    dp[i] = dp[i-<span class="number">2</span>] + <span class="number">2</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> i - dp[i-<span class="number">1</span>] - <span class="number">1</span> &lt; <span class="number">0</span> <span class="keyword">or</span> s[i - dp[i-<span class="number">1</span>] - <span class="number">1</span>] == <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">                    dp[i] = <span class="number">0</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    dp[i] = dp[i-<span class="number">1</span>] + dp[i - dp[i - <span class="number">1</span>] - <span class="number">2</span>] + <span class="number">2</span></span><br><span class="line">                </span><br><span class="line">            res = <span class="built_in">max</span>(dp[i], res)</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2: Stack</p>
<p>Time Complexity: O(n)</p>
<p>Space Complexity: O(n)</p>
</blockquote>
<p>Scanning from left to the right, if we meet ‘(‘. then push index into the stack; if we meet ‘)’, then pop out the top one out of the stack. If no index to pop out, then we push the index if ‘)’ into the stack and update the result.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">longestValidParentheses</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        stack = [-<span class="number">1</span>]</span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)):</span><br><span class="line">            <span class="keyword">if</span> s[i] == <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">len</span>(stack) == <span class="number">1</span>:</span><br><span class="line">                   stack = [i]</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    stack.pop(-<span class="number">1</span>)</span><br><span class="line">                    res = <span class="built_in">max</span>(res, i - stack[-<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                stack.append(i)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 3: LEGEND</p>
<p>Time Complexity: O(n)</p>
<p>Space Complexity: O(1)</p>
</blockquote>
<p>Use SUM to keep track of the <code>balancity</code> of the substring. If ‘(‘ then we plus 1; If ‘)’ then we minus 1. BBBBUT!!! At very first, I was stuck in the case where SUM is larger than 0. For example, <code>(()()</code> and <code>()(()</code>.</p>
<p>THIS IS HOW I SOLVE it —- IGNORE THIS CASE and loop the whole string twice, forward and backward.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">longestValidParentheses</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        SUM = <span class="number">0</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        prev = -<span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)):</span><br><span class="line">            <span class="keyword">if</span> s[i] == <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">                SUM += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                SUM -= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> SUM &lt; <span class="number">0</span>:</span><br><span class="line">                    prev = i</span><br><span class="line">                    SUM = <span class="number">0</span></span><br><span class="line">                <span class="keyword">elif</span> SUM == <span class="number">0</span>:</span><br><span class="line">                    res = <span class="built_in">max</span>(res, i - prev)</span><br><span class="line"></span><br><span class="line">        SUM = <span class="number">0</span></span><br><span class="line">        prev = <span class="built_in">len</span>(s)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)-<span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> s[i] == <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">                SUM += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                SUM -= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> SUM &lt; <span class="number">0</span>:</span><br><span class="line">                    prev = i</span><br><span class="line">                    SUM = <span class="number">0</span></span><br><span class="line">                <span class="keyword">elif</span> SUM == <span class="number">0</span>:</span><br><span class="line">                    res = <span class="built_in">max</span>(res, prev - i)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<h1 id="33-Search-in-Rotated-Sorted-Array"><a href="#33-Search-in-Rotated-Sorted-Array" class="headerlink" title="33. Search in Rotated Sorted Array"></a>33. Search in Rotated Sorted Array</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/search-in-rotated-sorted-array/description/">https://leetcode.com/problems/search-in-rotated-sorted-array/description/</a></p>
<blockquote>
<p>Solution 1:</p>
<p>Time Complexity: O(log n)</p>
<p>Space Complexity: O(1)</p>
</blockquote>
<p>To meet the requirement of time complexity, we need to improve binary search. Based on the traits of rotated sorted array, there are more scenaroes when choosing one half to discard.</p>
<p>We can divide the rotated array into twp parts. </p>
<p>For example, [4,5,6,7,0,1,2] array1: [4,5,6,7]; array2: [0,1,2]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">search</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line"></span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        end = <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> start &lt; end:</span><br><span class="line">            mid = (start + end) // <span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> nums[mid] == target:</span><br><span class="line">                <span class="keyword">return</span> mid</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># finding larget number</span></span><br><span class="line">                    <span class="comment"># mid in array1, search array1</span></span><br><span class="line">                    <span class="comment"># mid in array2</span></span><br><span class="line">                        <span class="comment"># compare end with target</span></span><br><span class="line">                        <span class="comment"># end &gt;= target, in array2</span></span><br><span class="line">                        <span class="comment"># end &lt; target, in array1</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># finding smaller number</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="comment"># mid in array2, search array2</span></span><br><span class="line">                    <span class="comment"># mind in array1</span></span><br><span class="line">                        <span class="comment"># compare start with target</span></span><br><span class="line">                        <span class="comment"># start &lt;= target, in array 1</span></span><br><span class="line">                        <span class="comment"># start &gt; target, in array2</span></span><br><span class="line">                </span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>Now we implement the comment</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">search</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        end = <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> start &lt;= end:</span><br><span class="line">            mid = (start + end) // <span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> nums[mid] == target:</span><br><span class="line">                <span class="keyword">return</span> mid</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># finding larger number</span></span><br><span class="line">                <span class="keyword">if</span> nums[mid] &lt; target:</span><br><span class="line">                    <span class="comment"># mid in array1, search array1</span></span><br><span class="line">                    <span class="keyword">if</span> nums[mid] &gt; nums[end]:</span><br><span class="line">                      	<span class="comment"># If there are more elements larger than mid in array1</span></span><br><span class="line">                        <span class="keyword">if</span> nums[mid+<span class="number">1</span>] &gt; nums[mid]:</span><br><span class="line">                            start = mid + <span class="number">1</span></span><br><span class="line">                        <span class="keyword">else</span>:</span><br><span class="line">                            <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                    <span class="comment"># mid in array2</span></span><br><span class="line">                        <span class="comment"># compare end with target</span></span><br><span class="line">                        <span class="comment"># end &gt;= target, in array2</span></span><br><span class="line">                        <span class="keyword">if</span> nums[end] &gt;= target:</span><br><span class="line">                            start = mid + <span class="number">1</span></span><br><span class="line">                        <span class="keyword">else</span>:</span><br><span class="line">                        <span class="comment"># end &lt; target, in array1</span></span><br><span class="line">                            end = mid - <span class="number">1</span></span><br><span class="line">                            <span class="comment"># end = mid</span></span><br><span class="line">                            </span><br><span class="line"></span><br><span class="line">                <span class="comment"># finding smaller number</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="comment"># mid in array2, search array2</span></span><br><span class="line">                    <span class="keyword">if</span> nums[mid] &lt;= nums[end]:</span><br><span class="line">                      	<span class="comment"># if there are more elements smaller than mid in array2</span></span><br><span class="line">                        <span class="keyword">if</span> nums[mid-<span class="number">1</span>] &lt; nums[mid]:</span><br><span class="line">                            end = mid - <span class="number">1</span></span><br><span class="line">                            <span class="comment"># end = mid</span></span><br><span class="line">                        <span class="keyword">else</span>:</span><br><span class="line">                            <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">                    <span class="comment"># mid in array1</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        <span class="comment"># compare start with target</span></span><br><span class="line">                        <span class="comment"># start &lt;= target, in array 1</span></span><br><span class="line">                        <span class="keyword">if</span> nums[start] &lt;= target:</span><br><span class="line">                            end = mid - <span class="number">1</span></span><br><span class="line">                            <span class="comment"># end = mid</span></span><br><span class="line">                        <span class="comment"># start &gt; target, in array2</span></span><br><span class="line">                        <span class="keyword">else</span>:</span><br><span class="line">                            start = mid + <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">                </span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2:</p>
<p>Time Complexity: O(log n)</p>
<p>Space Complexity: O(1)</p>
</blockquote>
<p>In this solution, we try to implement normal binary search to the given array by getting the index offset of the given array.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">search</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        end = <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> start &lt; end:</span><br><span class="line">            mid = (start + end) // <span class="number">2</span></span><br><span class="line">            <span class="comment">## mid in array1</span></span><br><span class="line">            <span class="keyword">if</span> nums[mid] &gt; nums[end]:</span><br><span class="line">                start = mid + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># mid is in array 2, and move forward end</span></span><br><span class="line">                end = mid</span><br><span class="line">        </span><br><span class="line">        offset = start</span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        end = <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> start &lt;= end:</span><br><span class="line">            mid = (start + end) // <span class="number">2</span></span><br><span class="line">            mid_offset = (mid + offset) % <span class="built_in">len</span>(nums)</span><br><span class="line">            <span class="keyword">if</span> nums[mid_offset] == target:</span><br><span class="line">                <span class="keyword">return</span> mid_offset</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> nums[mid_offset] &lt; target:</span><br><span class="line">                    start = mid + <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    end = mid - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">                </span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 3:</p>
<p>Time Complexity: O(log n)</p>
<p>Space Complexity: O(1)</p>
</blockquote>
<p>One basic feature of the rotated array is that at least one half is sorted in ascending order. of the Similar to solution1, but in this solution, we focus more on the part with correct ascending order. In this way, the scenarios that we need to discuss is more simpler.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">search</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line"></span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        end = <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> start &lt;= end:</span><br><span class="line">            mid = (start + end) // <span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> target == nums[mid]:</span><br><span class="line">                <span class="keyword">return</span> mid</span><br><span class="line">            </span><br><span class="line">            <span class="comment">## left half is sorted</span></span><br><span class="line">            <span class="keyword">if</span> nums[start] &lt;= nums[mid]:</span><br><span class="line">                <span class="keyword">if</span> target &gt;= nums[start] <span class="keyword">and</span> target &lt; nums[mid]:</span><br><span class="line">                    end = mid - <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    start = mid + <span class="number">1</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">## right half is sorted</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> target &gt; nums[mid] <span class="keyword">and</span> target &lt;= nums[end]:</span><br><span class="line">                    start = mid + <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    end = mid - <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br></pre></td></tr></table></figure>
<h1 id="34-Find-First-and-Last-Position-of-Element-in-Sorted-Array"><a href="#34-Find-First-and-Last-Position-of-Element-in-Sorted-Array" class="headerlink" title="34. Find First and Last Position of Element in Sorted Array"></a>34. Find First and Last Position of Element in Sorted Array</h1><blockquote>
<p>Solution 1:</p>
<p>Time Complexity: O(log n)</p>
<p>Space Complexity: O(1)</p>
</blockquote>
<p>In this question, we are finding the index boundries of then target in the array. To meet the requirement of the time complexity, we also implement binary search, but instead of locating the target, we locate target - 0.5 and target + 0.5. Obviously we cannot find these two float numbers in a int array, but it can help us to locate the boundary of the real target.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">searchRange</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">            <span class="keyword">return</span> [-<span class="number">1</span>, -<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        end = <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        bound_s = target - <span class="number">0.5</span></span><br><span class="line">        bound_l = target + <span class="number">0.5</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> start &lt;= end:</span><br><span class="line">            mid = (start + end) // <span class="number">2</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> nums[mid] == bound_s:</span><br><span class="line">                <span class="keyword">return</span> mid</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> nums[mid] &lt; bound_s:</span><br><span class="line">                    start = mid + <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    end = mid - <span class="number">1</span></span><br><span class="line">               </span><br><span class="line">        left = start</span><br><span class="line"></span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        end = <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> start &lt;= end:</span><br><span class="line">            mid = (start + end) // <span class="number">2</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> nums[mid] == bound_l:</span><br><span class="line">                <span class="keyword">return</span> mid</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> nums[mid] &lt; bound_l:</span><br><span class="line">                    start = mid + <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    end = mid - <span class="number">1</span></span><br><span class="line">            </span><br><span class="line">        </span><br><span class="line">        right = end</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> left &gt; right:</span><br><span class="line">            <span class="keyword">return</span> [-<span class="number">1</span>, -<span class="number">1</span>]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> [left, right]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2:</p>
<p>Time Complexity: O(log n)</p>
<p>Space Complexity: O(1)</p>
</blockquote>
<p>What if the we cannot store float?</p>
<p>Similar to alogorithm 1, we use while loop twice to find start and end seperately and also we utilise binary search. But in this solution, we first implement binary search and find the inde of target, then we set end to mid - 1 if we are searching for the left boundry. The loop will terminate if start &gt; end, and start is the left boundry index we wanna find. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">searchRange</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">            <span class="keyword">return</span> [-<span class="number">1</span>, -<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        end = <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> start &lt;= end:</span><br><span class="line">            mid = (start + end) // <span class="number">2</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> nums[mid] == target:</span><br><span class="line">                end = mid - <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> nums[mid] &lt; target:</span><br><span class="line">                    start = mid + <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    end = mid - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">               </span><br><span class="line">        left = start</span><br><span class="line"></span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        end = <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> start &lt;= end:</span><br><span class="line">            mid = (start + end) // <span class="number">2</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> nums[mid] == target:</span><br><span class="line">                start = mid + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> nums[mid] &lt; target:</span><br><span class="line">                    start = mid + <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    end = mid - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        right = end</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> left &gt; right:</span><br><span class="line">            <span class="keyword">return</span> [-<span class="number">1</span>, -<span class="number">1</span>]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> [left, right]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2-1: improvement in solution 2</p>
<p>Time Complexity: O(log n)</p>
<p>Space Complexity: O(1)</p>
</blockquote>
<p>if nums[mid + 1] is not target or mid + 1 is out of boundry, then the while loop can termiate at this point. Vice versa.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">searchRange</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">            <span class="keyword">return</span> [-<span class="number">1</span>, -<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        end = <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> start &lt;= end:</span><br><span class="line">            mid = (start + end) // <span class="number">2</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> nums[mid] == target:</span><br><span class="line">                <span class="comment"># end = mid - 1</span></span><br><span class="line">                <span class="keyword">if</span> mid - <span class="number">1</span> &lt; <span class="number">0</span> <span class="keyword">or</span> nums[mid-<span class="number">1</span>] != target:</span><br><span class="line">                    start = mid</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    end = mid - <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> nums[mid] &lt; target:</span><br><span class="line">                    start = mid + <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    end = mid - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">               </span><br><span class="line">        left = start</span><br><span class="line"></span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        end = <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> start &lt;= end:</span><br><span class="line">            mid = (start + end) // <span class="number">2</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> nums[mid] == target:</span><br><span class="line">                <span class="comment"># start = mid + 1</span></span><br><span class="line">                <span class="keyword">if</span> mid + <span class="number">1</span> &gt;= <span class="built_in">len</span>(nums) <span class="keyword">or</span> nums[mid + <span class="number">1</span>] != target:</span><br><span class="line">                    end = mid</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    start = mid + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> nums[mid] &lt; target:</span><br><span class="line">                    start = mid + <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    end = mid - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        right = end</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> left &gt; right:</span><br><span class="line">            <span class="keyword">return</span> [-<span class="number">1</span>, -<span class="number">1</span>]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> [left, right]</span><br></pre></td></tr></table></figure>
<h1 id="35-Search-Insert-Position"><a href="#35-Search-Insert-Position" class="headerlink" title="35. Search Insert Position"></a>35. Search Insert Position</h1><blockquote>
<p>Solution 1:</p>
<p>Time Complexity: O(log n)</p>
<p>Space Complexity: O(1)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">searchInsert</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        end = <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> start &lt;= end:</span><br><span class="line">            mid = (start + end) // <span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> nums[mid] == target:</span><br><span class="line">                <span class="keyword">return</span> mid</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> nums[mid] &lt; target:</span><br><span class="line">                    start = mid + <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    end = mid - <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> start</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 1-1:</p>
<p>Time Complexity: O(log n)</p>
<p>Space Complexity: O(1) d</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">searchInsert</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        end = <span class="built_in">len</span>(nums)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> start &lt; end:</span><br><span class="line">            mid = (start + end) // <span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> nums[mid] == target:</span><br><span class="line">                <span class="keyword">return</span> mid</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> nums[mid] &lt; target:</span><br><span class="line">                    start = mid + <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    end = mid</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> start</span><br></pre></td></tr></table></figure>
<h1 id="36-Valid-Sudoku"><a href="#36-Valid-Sudoku" class="headerlink" title="36.Valid Sudoku"></a>36.Valid Sudoku</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/valid-sudoku/description/">https://leetcode.com/problems/valid-sudoku/description/</a></p>
<blockquote>
<p>Solution 1: brute force</p>
<p>Time Complexity: O(3n) - bc we loop through the whole celles 3 times</p>
<p>Space Complexity: O(1)</p>
</blockquote>
<p>CHECK row, col, sub-boxes seperately.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">checkrow</span>(<span class="params">self, row</span>):</span><br><span class="line">        DICT = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(row)):</span><br><span class="line">            <span class="keyword">if</span> row[i] == <span class="string">&#x27;.&#x27;</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> DICT.get(row[i]) != <span class="literal">None</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                DICT[row[i]] = <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">checkcol</span>(<span class="params">self, board, i</span>):</span><br><span class="line">        DICT = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(board)):</span><br><span class="line">            <span class="keyword">if</span> board[j][i] == <span class="string">&#x27;.&#x27;</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> DICT.get(board[j][i]) != <span class="literal">None</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                DICT[board[j][i]] = <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">checkSmall</span>(<span class="params">self, row, col, board</span>):</span><br><span class="line">        DICT = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">                <span class="keyword">if</span> board[row+i][col+j] == <span class="string">&#x27;.&#x27;</span>:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> DICT.get(board[row + i][col + j]) != <span class="literal">None</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                </span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    DICT[board[row + i][col + j]] = <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isValidSudoku</span>(<span class="params">self, board: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">str</span>]]</span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(board)):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> self.checkrow(board[i]):</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> self.checkcol(board, i):</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(board), <span class="number">3</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(board), <span class="number">3</span>):</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> self.checkSmall(i, j, board):</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2: </p>
<p>Time Complexity: O(n) — loop all the cells only once</p>
<p>Space Complexity: O(n) — in worst cases all the cells have number</p>
</blockquote>
<p>we group the cells into piles so that we have 9 row piles, 9 col piles, 9 sub-boxes piles.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isValidSudoku</span>(<span class="params">self, board: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">str</span>]]</span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        seen = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(board)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(board)):</span><br><span class="line">                number = board[i][j]</span><br><span class="line">                <span class="keyword">if</span> number != <span class="string">&#x27;.&#x27;</span>:</span><br><span class="line">                    <span class="keyword">if</span> seen.get(<span class="string">f&quot;(<span class="subst">&#123;i&#125;</span>)<span class="subst">&#123;number&#125;</span>&quot;</span>) != <span class="literal">None</span> <span class="keyword">or</span> seen.get(<span class="string">f&quot;<span class="subst">&#123;number&#125;</span>(<span class="subst">&#123;j&#125;</span>)&quot;</span>) != <span class="literal">None</span> <span class="keyword">or</span> seen.get(<span class="string">f&quot;(<span class="subst">&#123;i // <span class="number">3</span>&#125;</span>)<span class="subst">&#123;number&#125;</span>(<span class="subst">&#123; j // <span class="number">3</span>&#125;</span>)&quot;</span>) != <span class="literal">None</span>:</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                    </span><br><span class="line">                    seen[<span class="string">f&quot;(<span class="subst">&#123;i&#125;</span>)<span class="subst">&#123;number&#125;</span>&quot;</span>] = <span class="number">1</span></span><br><span class="line">                    seen[<span class="string">f&quot;<span class="subst">&#123;number&#125;</span>(<span class="subst">&#123;j&#125;</span>)&quot;</span>] = <span class="number">1</span></span><br><span class="line">                    seen[<span class="string">f&quot;(<span class="subst">&#123;i // <span class="number">3</span>&#125;</span>)<span class="subst">&#123;number&#125;</span>(<span class="subst">&#123; j // <span class="number">3</span>&#125;</span>)&quot;</span>] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<h1 id="37-Sudoku-Solver"><a href="#37-Sudoku-Solver" class="headerlink" title="37. Sudoku Solver"></a>37. Sudoku Solver</h1><blockquote>
<p>Solution 1: Recursion</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">solveSudoku</span>(<span class="params">self, board: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">str</span>]]</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Do not return anything, modify board in-place instead.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        self.solver(board)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">solver</span>(<span class="params">self, board</span>):</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>):</span><br><span class="line">                <span class="keyword">if</span> board[i][j] == <span class="string">&#x27;.&#x27;</span>:</span><br><span class="line">                    c = <span class="number">0</span></span><br><span class="line">                    <span class="keyword">while</span> c &lt; <span class="number">9</span>:</span><br><span class="line">                        <span class="keyword">if</span> self.isvalid(i, j, board, <span class="built_in">chr</span>(c + <span class="number">49</span>)):</span><br><span class="line">                            board[i][j] = <span class="built_in">chr</span>(c + <span class="number">49</span>)</span><br><span class="line">                            <span class="keyword">if</span> self.solver(board):</span><br><span class="line">                                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">                            <span class="keyword">else</span>:</span><br><span class="line">                                board[i][j] = <span class="string">&quot;.&quot;</span></span><br><span class="line">                        c += <span class="number">1</span></span><br><span class="line">                    </span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isvalid</span>(<span class="params">self, row, col, board, c</span>):</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> m <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>):</span><br><span class="line">            <span class="keyword">if</span> board[row][m] == c:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> board[m][col] == c:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        start_row = (row // <span class="number">3</span>) * <span class="number">3</span></span><br><span class="line">        start_col = (col // <span class="number">3</span>) * <span class="number">3</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">                <span class="keyword">if</span> board[start_row + i][start_col + j] == c:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<h1 id="38-Count-and-Say"><a href="#38-Count-and-Say" class="headerlink" title="38. Count and Say"></a>38. Count and Say</h1><blockquote>
<p>Solution 1: Recursion</p>
<p>Time Complexity: O(2 ** n)</p>
<p>Space Complexity: O(1)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">countAndSay</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;1&quot;</span></span><br><span class="line">        </span><br><span class="line">        res = <span class="string">&quot;&quot;</span></span><br><span class="line">        prev = <span class="string">&quot;&quot;</span></span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        S = self.countAndSay(n-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(S)):</span><br><span class="line">            <span class="keyword">if</span> S[i] != prev:</span><br><span class="line">                <span class="keyword">if</span> count != <span class="number">0</span>:</span><br><span class="line">                    res += <span class="string">f&quot;<span class="subst">&#123;count&#125;</span><span class="subst">&#123;prev&#125;</span>&quot;</span></span><br><span class="line">                count = <span class="number">0</span></span><br><span class="line">                prev = S[i]</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        res += <span class="string">f&quot;<span class="subst">&#123;count&#125;</span><span class="subst">&#123;prev&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2: All recursion</p>
<p>Space Complexity: O(1)</p>
</blockquote>
<p>But the efficiency is worse than sol1, bc recursion is very space consuming.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">generator</span>(<span class="params">self, s</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> s:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">        </span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        same = s[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)):</span><br><span class="line">            <span class="keyword">if</span> s[i] == same:</span><br><span class="line">                count += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&quot;<span class="subst">&#123;count&#125;</span><span class="subst">&#123;same&#125;</span>&quot;</span> + self.generator(s[count:])</span><br><span class="line">            </span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">countAndSay</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;1&quot;</span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> self.generator(self.countAndSay(n-<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<h1 id="39-Combination-Sum"><a href="#39-Combination-Sum" class="headerlink" title="39. Combination Sum"></a>39. Combination Sum</h1><blockquote>
<p>Solution1: Recursion</p>
<p>Time Complexity: O(n**n)</p>
</blockquote>
<p>Try every combination of of candidates.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">helper</span>(<span class="params">self, candidates, target</span>):</span><br><span class="line">        res = []</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> target == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> [[]]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> target &lt; <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(candidates)):</span><br><span class="line">            arr = self.combinationSum(candidates[n:], target-candidates[n])</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> arr:</span><br><span class="line">                res.append(i + [candidates[n]]) </span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">combinationSum</span>(<span class="params">self, candidates: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:  </span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> self.helper(candidates, target)</span><br><span class="line">      </span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 1-1: Recursion - without for-loop</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">combinationSum</span>(<span class="params">self, candidates: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:</span><br><span class="line">        <span class="keyword">return</span> self.combinationSumRecurisve(candidates, target, [])  </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">combinationSumRecurisve</span>(<span class="params">self, candidates, target, curr_nums</span>):</span><br><span class="line">        <span class="keyword">if</span> target == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> [curr_nums]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(candidates) == <span class="number">0</span> <span class="keyword">or</span> target &lt;= <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        </span><br><span class="line">        c = candidates[<span class="number">0</span>]</span><br><span class="line">        sol = self.combinationSumRecurisve(candidates[<span class="number">1</span>:], target, curr_nums)</span><br><span class="line">        sol.extend(self.combinationSumRecurisve(candidates, target - c, curr_nums + [c]))</span><br><span class="line">        <span class="keyword">return</span> sol</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2: Dynamic Programming</p>
</blockquote>
<p>We use another list to store the result for target = 0 …. target. And return opt[target] as the final result.</p>
<ul>
<li>Base case: opt[0] == [[]]</li>
<li>If sum == nums[i], then [nums[i]] can be added to opt[sum]</li>
<li>If sum &gt; nums[i], then we add nums[i] to each one in opt[sum - nums[i]] as part of opt[sum]</li>
</ul>
<p>As the code down below, outer loop is for target, inner loop is for candidates.</p>
<p>Drawbacks: Every time we need to deduplicate the result. How can we make sure the candidates can be added in a sorted order?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">combinationSum</span>(<span class="params">self, candidates: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:      </span><br><span class="line">        <span class="comment">## base case</span></span><br><span class="line">        opt = [[] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(target+<span class="number">1</span>)]</span><br><span class="line">        opt[<span class="number">0</span>] = [[]]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, target+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> candidates:</span><br><span class="line">                <span class="keyword">if</span> i == t:</span><br><span class="line">                    opt[t].append([i])</span><br><span class="line">                <span class="keyword">elif</span> i &lt; t:</span><br><span class="line">                        <span class="keyword">for</span> j <span class="keyword">in</span> opt[t - i]:</span><br><span class="line">                            res = <span class="built_in">sorted</span>([i] + j)</span><br><span class="line">                            <span class="keyword">if</span> res <span class="keyword">not</span> <span class="keyword">in</span> opt[t]:</span><br><span class="line">                                opt[t].append(res)</span><br><span class="line">                    </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> opt[target]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2-1: Dynamic Programming - improvement</p>
</blockquote>
<p>Change outer loop to candidates instead.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">combinationSum</span>(<span class="params">self, candidates: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:</span><br><span class="line">        <span class="keyword">return</span> self.combinationSumDP(candidates, target)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">combinationSumDP</span>(<span class="params">self, candidates, target</span>):</span><br><span class="line">        dp = &#123;&#125;</span><br><span class="line">        dp[<span class="number">0</span>] = [[]]</span><br><span class="line">        candidates.sort()</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> candidates:</span><br><span class="line">            <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(c, target + <span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> (t-c) <span class="keyword">in</span> dp:</span><br><span class="line">                    <span class="keyword">if</span> t <span class="keyword">not</span> <span class="keyword">in</span> dp:</span><br><span class="line">                        dp[t] = []</span><br><span class="line">                    <span class="keyword">for</span> comb_t_m_c <span class="keyword">in</span> dp[t-c]:</span><br><span class="line">                        dp[t].append(comb_t_m_c + [c])</span><br><span class="line">        <span class="keyword">return</span> dp[target] <span class="keyword">if</span> target <span class="keyword">in</span> dp <span class="keyword">else</span> []</span><br></pre></td></tr></table></figure>
<h1 id="40-Combination-Sum-II"><a href="#40-Combination-Sum-II" class="headerlink" title="40.Combination Sum II"></a>40.Combination Sum II</h1><blockquote>
<p>Solution1: Recursion - inspired by sol 1-1 of Q39</p>
</blockquote>
<p>In this question, the given collections of candidates are not unique, and we can only use candidates for once. So we need to add deduplication steps.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">helper</span>(<span class="params">self, candidates, target, curr</span>):</span><br><span class="line">        <span class="keyword">if</span> target == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> [curr]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> target &lt; <span class="number">0</span> <span class="keyword">or</span> <span class="built_in">len</span>(candidates) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        </span><br><span class="line">        c = candidates[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># with c</span></span><br><span class="line">        sol = self.helper(candidates[<span class="number">1</span>:], target - c, curr + [c])</span><br><span class="line"></span><br><span class="line">        <span class="comment"># without c</span></span><br><span class="line">        <span class="comment"># deduplication</span></span><br><span class="line">        i = <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> i &lt; <span class="built_in">len</span>(candidates) <span class="keyword">and</span> candidates[i] == c:</span><br><span class="line">            i += <span class="number">1</span> </span><br><span class="line">        <span class="keyword">if</span> i == <span class="built_in">len</span>(candidates):</span><br><span class="line">            <span class="keyword">return</span> sol</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        sol.extend(self.helper(candidates[i:], target, curr))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> sol</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">combinationSum2</span>(<span class="params">self, candidates: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> self.helper(<span class="built_in">sorted</span>(candidates), target, [])</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2: Dynamic Programming</p>
</blockquote>
<p>Outer loop is candidates and inner loop is target. </p>
<ul>
<li>But as mentioned above, we cannot use same elements multiple times. To solve this problem, we can simply change the direction of the inner loop. For example, candidates = [1], target = 4. If we loop from small to large, then we can get target 1 then 2, 3, 4. But if we loop from 4 to 1, we can only get 1.</li>
<li>We meet another problem, which is the candidate set is not unque. so that we might get replicate result. In this solution, I simply deduplicate by checking the result in the whole array every time we got a result. I know this sucks but YEAH i’ll upadte when i figure out.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">combinationSum2</span>(<span class="params">self, candidates: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:</span><br><span class="line">        <span class="keyword">return</span> self.combinationSumDP(candidates, target)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">combinationSumDP</span>(<span class="params">self, candidates, target</span>):</span><br><span class="line">        dp = &#123;&#125;</span><br><span class="line">        dp[<span class="number">0</span>] = [[]]</span><br><span class="line">        candidates.sort()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(candidates)):</span><br><span class="line">            <span class="comment">## solving the problem that using same elements for multiple times</span></span><br><span class="line">            <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(target, candidates[c]-<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> (t-candidates[c]) <span class="keyword">in</span> dp:</span><br><span class="line">                    <span class="keyword">if</span> t <span class="keyword">not</span> <span class="keyword">in</span> dp:</span><br><span class="line">                        dp[t] = []</span><br><span class="line">                    <span class="keyword">for</span> comb_t_m_c <span class="keyword">in</span> dp[t-candidates[c]]:</span><br><span class="line">                        res = comb_t_m_c + [candidates[c]]</span><br><span class="line">                        <span class="keyword">if</span> res <span class="keyword">not</span> <span class="keyword">in</span> dp[t]:</span><br><span class="line">                            dp[t].append(res)</span><br><span class="line"></span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> dp[target] <span class="keyword">if</span> target <span class="keyword">in</span> dp <span class="keyword">else</span> []</span><br></pre></td></tr></table></figure>
<h1 id="41-First-Missing-Positive"><a href="#41-First-Missing-Positive" class="headerlink" title="41  First Missing Positive"></a>41  First Missing Positive</h1><blockquote>
<p>Solution 1: Swap</p>
<p>Time Complexity: O(n)</p>
<p>Space Complexity: O(1)</p>
</blockquote>
<p>What if there is no Space Complexity limitaton. We can use a same length array with initial value -1. For-loop the given array once, store val to new array[val-1]. As for value &gt; len(nums) and value &lt;= 0, we can ignore them. Then in the second loop, we loop through the new array, we return i + 1, when we first meet nums[i] != i + 1.</p>
<p>But in this question, we need to think about the space complexity. So insteading using another array, we can swap the num to the place where nums[i] != i + 1. Here are some special cases:</p>
<ul>
<li>[1, 1] If there are legit number in the place where we want swap the curr number to, then we skip.</li>
<li>[1, 2, 3] All the number in the array are in legit place, then we return len(nums) + 1</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">firstMissingPositive</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        </span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> i &lt; <span class="built_in">len</span>(nums):</span><br><span class="line">            <span class="keyword">if</span> nums[i] &gt; <span class="built_in">len</span>(nums) <span class="keyword">or</span> nums[i] &lt;=<span class="number">0</span> <span class="keyword">or</span> nums[i] == i + <span class="number">1</span>:</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:    </span><br><span class="line">                swapped_index = nums[i] - <span class="number">1</span></span><br><span class="line">                swapped_val = nums[swapped_index]</span><br><span class="line">                <span class="keyword">if</span> swapped_val != swapped_index + <span class="number">1</span>:</span><br><span class="line">                    nums[swapped_index] = nums[i]</span><br><span class="line">                    nums[i] = swapped_val</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    nums[i] = -<span class="number">1</span></span><br><span class="line">                    i += <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">            <span class="keyword">if</span> nums[i] != i + <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> i + <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(nums) + <span class="number">1</span></span><br><span class="line">            </span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2: Marking</p>
<p>Time Complexity: O(n)</p>
<p>Space Complexity: O(1)</p>
</blockquote>
<p>Suppose we have O(n) space complexity，We can mark all the legit postions True, and mark the unlegit ones false. To finish the taks in O(1) space, we can mark them by using neg/pos sign. Numbers smaller equal to 0 are useless, so we move them to this end.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">firstMissingPositive</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line"></span><br><span class="line">        curr = <span class="number">0</span></span><br><span class="line">        pos = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> curr &lt; <span class="built_in">len</span>(nums):</span><br><span class="line">            <span class="keyword">if</span> nums[curr] &lt;= <span class="number">0</span>:</span><br><span class="line">                curr += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                nums[pos] = nums[curr]</span><br><span class="line">                pos += <span class="number">1</span></span><br><span class="line">                curr += <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">    </span><br><span class="line">        <span class="comment"># start is the num of postives</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(pos):</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">abs</span>(nums[i]) - <span class="number">1</span> &lt; pos:</span><br><span class="line">                nums[<span class="built_in">abs</span>(nums[i])-<span class="number">1</span>] = - <span class="built_in">abs</span>(nums[<span class="built_in">abs</span>(nums[i])-<span class="number">1</span>])</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">print</span>(pos, nums)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(pos):</span><br><span class="line">            <span class="keyword">if</span> nums[i] &gt; <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> i + <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> pos + <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h1 id="42-Trapping-Rain-Water"><a href="#42-Trapping-Rain-Water" class="headerlink" title="42. Trapping Rain Water"></a>42. Trapping Rain Water</h1><blockquote>
<p>Solution 1: calculate by columns</p>
<p>Time Complexity: O(n*n) — n is the length of the whole list</p>
<p>Space Complexity: O(1)</p>
</blockquote>
<p>We try to find the most close wall in the right hand side that is equal or higher than the current one, so that we can calculate how much water can be stored in between. Vice versa, we follow the same to do calculation again but in backwards direction, which means in the second turn we find the most close wall in the left hand side that is equal or higher than the current one.</p>
<p>In this solution, we need to loop through the whole list twice. But the running time is not able to pass.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">trap</span>(<span class="params">self, height: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        curr = <span class="number">0</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="comment">## assume the higher block always in the right side</span></span><br><span class="line">        <span class="keyword">while</span> curr &lt; <span class="built_in">len</span>(height) - <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">if</span> height[curr] &gt; height[curr+<span class="number">1</span>]:</span><br><span class="line">                tmp = curr + <span class="number">1</span></span><br><span class="line">                max_h = height[tmp]</span><br><span class="line">                <span class="keyword">while</span> tmp &lt; <span class="built_in">len</span>(height):</span><br><span class="line">                    <span class="comment"># go up or zero stop</span></span><br><span class="line">                    <span class="keyword">if</span> height[tmp] &gt;= height[curr]:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                    </span><br><span class="line">                    <span class="keyword">if</span> height[tmp] &gt; max_h:</span><br><span class="line">                       <span class="comment"># depth is the maximum val in between</span></span><br><span class="line">                        max_h = height[tmp]</span><br><span class="line"></span><br><span class="line">                    tmp += <span class="number">1</span></span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> tmp != <span class="built_in">len</span>(height):</span><br><span class="line">                    res += (tmp - curr - <span class="number">1</span>) * (height[curr] - max_h)</span><br><span class="line">            </span><br><span class="line">            curr += <span class="number">1</span></span><br><span class="line">        <span class="comment">## assume the higher block always in the left side</span></span><br><span class="line">        curr = <span class="built_in">len</span>(height) - <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> curr &gt; <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">if</span> height[curr] &gt; height[curr-<span class="number">1</span>]:</span><br><span class="line">                tmp = curr - <span class="number">1</span></span><br><span class="line">                max_h = height[tmp]</span><br><span class="line">                <span class="keyword">while</span> tmp &gt;= <span class="number">0</span>:</span><br><span class="line">                    <span class="keyword">if</span> height[tmp] &gt; height[curr]:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                    </span><br><span class="line">                    <span class="keyword">if</span> height[tmp] &gt; max_h:</span><br><span class="line">                        max_h = height[tmp]</span><br><span class="line"></span><br><span class="line">                    tmp -= <span class="number">1</span></span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> tmp != -<span class="number">1</span>:</span><br><span class="line">                    res += (curr - tmp - <span class="number">1</span>) * (height[curr] - max_h)</span><br><span class="line">            </span><br><span class="line">            curr -= <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res         </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 1-1: calculate by columns</p>
<p>Time Complexity: O(n*n)</p>
</blockquote>
<p>Similar to the prev solution. We merge the 2 cases into one outer while loop. But we still cannot pass the auto check.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">trap</span>(<span class="params">self, height: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        curr = <span class="number">0</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="comment">## assume the higher block always in the right side</span></span><br><span class="line">        <span class="keyword">while</span> curr &lt; <span class="built_in">len</span>(height):</span><br><span class="line">            <span class="keyword">if</span> height[curr] == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">pass</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">## find the higher one at the right side, when the height is decreasing</span></span><br><span class="line">            <span class="keyword">if</span> curr &lt; <span class="built_in">len</span>(height)-<span class="number">1</span> <span class="keyword">and</span> height[curr] &gt; height[curr+<span class="number">1</span>]:</span><br><span class="line">                tmp = curr + <span class="number">1</span></span><br><span class="line">                max_h = height[tmp]</span><br><span class="line">                <span class="keyword">while</span> tmp &lt; <span class="built_in">len</span>(height):</span><br><span class="line">                    <span class="comment"># go up or zero stop</span></span><br><span class="line">                    <span class="keyword">if</span> height[tmp] &gt;= height[curr]:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                    </span><br><span class="line">                    <span class="keyword">if</span> height[tmp] &gt; max_h:</span><br><span class="line">                        <span class="comment"># depth is the maximum val in between</span></span><br><span class="line">                        max_h = height[tmp]</span><br><span class="line">                    tmp += <span class="number">1</span></span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> tmp != <span class="built_in">len</span>(height):</span><br><span class="line">                    res += (tmp - curr - <span class="number">1</span>) * (height[curr] - max_h)</span><br><span class="line">                    <span class="comment"># print(&#x27;1&#x27;, (tmp - curr - 1) * (height[curr] - max_h))</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">## find the higher one at the left right, when the height is increasing</span></span><br><span class="line">            <span class="keyword">if</span> curr &gt;=<span class="number">1</span> <span class="keyword">and</span> height[curr] &gt; height[curr-<span class="number">1</span>]:</span><br><span class="line">                tmp = curr - <span class="number">1</span></span><br><span class="line">                max_h = height[tmp]</span><br><span class="line">                <span class="keyword">while</span> tmp &gt;= <span class="number">0</span>:</span><br><span class="line">                    <span class="keyword">if</span> height[tmp] &gt; height[curr]:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                    </span><br><span class="line">                    <span class="keyword">if</span> height[tmp] &gt; max_h:</span><br><span class="line">                        max_h = height[tmp]</span><br><span class="line">                    tmp -= <span class="number">1</span></span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> tmp != -<span class="number">1</span>:</span><br><span class="line">                    res += (curr - tmp -<span class="number">1</span>) * (height[curr] - max_h)</span><br><span class="line">            </span><br><span class="line">            curr += <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 2: calculate by Row</p>
<p>Time Complexity: O(n*m) — m is the max height if the wall</p>
</blockquote>
<img src="/2022/12/05/Leetcode/15.png" class="" title="This is an image">
<img src="/2022/12/05/Leetcode/16.png" class="" title="This is an image">
<p>This sol is much simpler than sol1 but still cannot pass because of time complexity.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">trap</span>(<span class="params">self, height: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        </span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        depth = <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            finish = <span class="literal">True</span></span><br><span class="line">            isstart = <span class="literal">False</span></span><br><span class="line">            temp = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(height)):</span><br><span class="line">                <span class="keyword">if</span> height[i] &lt; depth:</span><br><span class="line">                    <span class="keyword">if</span> isstart:</span><br><span class="line">                        temp += <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    res += temp</span><br><span class="line">                    temp = <span class="number">0</span></span><br><span class="line">                    isstart = <span class="literal">True</span></span><br><span class="line">                    finish = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> finish:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            </span><br><span class="line">            depth += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 3: calculate by column</p>
<p>Time Complexity: O(n*n)</p>
</blockquote>
<p>In this solution, we are not focus on the distance between 2 wall, we foucs on the current wall. How many unit water can be stored above this one?</p>
<p>the tallest wall on the left hand side HL. the tallest wall on the right hand side HR.</p>
<p>Lm = min(HL, HR)</p>
<ul>
<li>if Lm &lt;= H(curr)<ul>
<li>no water can be stored</li>
</ul>
</li>
<li>if Lm &gt; H(curr)<ul>
<li>Lm - H(curr) units water can be stored</li>
</ul>
</li>
<li>The wall at both ends don’t need to be considered bc they cannot hold water on their top</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">trap</span>(<span class="params">self, height: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(height)-<span class="number">1</span>):</span><br><span class="line">            <span class="comment"># find the max on the left side</span></span><br><span class="line">            max_left = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> li <span class="keyword">in</span> <span class="built_in">range</span>(i):</span><br><span class="line">                <span class="keyword">if</span> height[li] &gt; max_left:</span><br><span class="line">                    max_left = height[li] </span><br><span class="line">            </span><br><span class="line">            <span class="comment"># find the max on the right side</span></span><br><span class="line">            max_right = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> lr <span class="keyword">in</span> <span class="built_in">range</span>(i+<span class="number">1</span>, <span class="built_in">len</span>(height)):</span><br><span class="line">                <span class="keyword">if</span> height[lr] &gt; max_right:</span><br><span class="line">                    max_right = height[lr]</span><br><span class="line">            </span><br><span class="line">            lm = <span class="built_in">min</span>(max_left, max_right)</span><br><span class="line">            <span class="keyword">if</span> lm &gt; height[i]:</span><br><span class="line">                res += lm - height[i]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solutoin 4: Dynamic Programming</p>
<p>Time Complexity: O(n)</p>
<p>Space Complexity: O(n)</p>
</blockquote>
<p>In the prev solutions, every time we wanna get the max_height from both side, we have to loop the whole list once. But what if we store the result somewhere? Classic method of trade space for time.</p>
<p>We use 2 arrays, max_left[i] represents the the highest wall the the left hand side of ith wall. max_right[i] is similar to that.</p>
<p>max_left[i] = Max(max_left[i-1], height[i-1])</p>
<p>max_right[i] = Max(max_right[i+1], height[i+1])</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">trap</span>(<span class="params">self, height: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="comment"># init 2 arrays</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        max_left = [<span class="number">0</span>] * <span class="built_in">len</span>(height)</span><br><span class="line">        max_right = [<span class="number">0</span>] * <span class="built_in">len</span>(height)</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(height)-<span class="number">1</span>):</span><br><span class="line">            max_left[i] = <span class="built_in">max</span>(max_left[i-<span class="number">1</span>], height[i-<span class="number">1</span>])</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(height)-<span class="number">2</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            max_right[i] = <span class="built_in">max</span>(max_right[i+<span class="number">1</span>], height[i+<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(height)-<span class="number">1</span>):</span><br><span class="line">            lm = <span class="built_in">min</span>(max_left[i], max_right[i])</span><br><span class="line">            <span class="keyword">if</span> lm &gt; height[i]:</span><br><span class="line">                res += lm - height[i]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">                </span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 5: Double pointer</p>
<p>Time Complexity: O(n)</p>
<p>Space Complexity: O(1)</p>
</blockquote>
<p>Our goal is to improve the space complexity. According to the prev solution, we only use the elements in max_left[i] and max_right[i] once. So we can use one variale to replace the array. Of course the value of this varaible needs to be update dynamically.</p>
<p>we first update <code>max_left</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">trap</span>(<span class="params">self, height: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="comment"># init 2 arrays</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        max_right = [<span class="number">0</span>] * <span class="built_in">len</span>(height)</span><br><span class="line">        max_left = <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(height)-<span class="number">2</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            max_right[i] = <span class="built_in">max</span>(max_right[i+<span class="number">1</span>], height[i+<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(height)-<span class="number">1</span>):</span><br><span class="line">          	max_left = <span class="built_in">max</span>(max_left, height[i-<span class="number">1</span>])</span><br><span class="line">            lm = <span class="built_in">min</span>(max_left, max_right[i])</span><br><span class="line">            <span class="keyword">if</span> lm &gt; height[i]:</span><br><span class="line">                res += lm - height[i]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<p>As for <code>max_right</code>, we need to update from right to left. But the last for loop is from left to right. So we can use 2 pointers to figure this out.</p>
<p>left</p>
<ul>
<li>start from 1, forward direction </li>
</ul>
<p>right</p>
<ul>
<li>start from len(height)-1, backward direction</li>
</ul>
<p>Based on the formula <code>max_left[i] = max(max_left[i-1], height[i-1])</code> , we need height[left-1] to update max_left, vice versa. So that we can make sure the left portion is always using max_left, and right portion is always using max_right.</p>
<p>Under condition <code>height[left - 1] &lt; height[right + 1]</code></p>
<ul>
<li>we update variable left</li>
</ul>
<p>Under condition <code>height[left - 1] &gt; height[right + 1]</code></p>
<ul>
<li>we update variable right</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">trap</span>(<span class="params">self, height: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="comment"># init 2 arrays</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        max_left = <span class="number">0</span> <span class="comment">## the max val in the left side of index left - 1</span></span><br><span class="line">        max_right = <span class="number">0</span> <span class="comment">## the max val in the right side of index right - 1</span></span><br><span class="line">        left = <span class="number">1</span></span><br><span class="line">        right = <span class="built_in">len</span>(height) - <span class="number">2</span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        <span class="comment"># for i in range(1, len(height)-1):</span></span><br><span class="line">        <span class="keyword">while</span> left &lt;= right:</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> height[left - <span class="number">1</span>] &lt;  height[right + <span class="number">1</span>]:</span><br><span class="line">                max_left = <span class="built_in">max</span>(max_left, height[left - <span class="number">1</span>])</span><br><span class="line">                <span class="keyword">if</span> max_left &gt; height[left]:</span><br><span class="line">                    res += max_left - height[left]</span><br><span class="line">                left += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                max_right = <span class="built_in">max</span>(max_right, height[right + <span class="number">1</span>])</span><br><span class="line">                <span class="keyword">if</span> max_right &gt; height[right]:</span><br><span class="line">                    res += max_right - height[right]</span><br><span class="line">                right -= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Solution 5: Stack</p>
<p>Time Complexity: O(n)</p>
<p>Space Complexity: O(n)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">trap</span>(<span class="params">self, height: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        stack = []</span><br><span class="line">        curr = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> curr &lt; <span class="built_in">len</span>(height):</span><br><span class="line">            <span class="comment">## inner loop to pop out the stack element</span></span><br><span class="line">            <span class="keyword">while</span> stack <span class="keyword">and</span> height[curr] &gt; height[stack[-<span class="number">1</span>]]:</span><br><span class="line">                <span class="comment"># the height under the water and remove the element btw</span></span><br><span class="line">                h = height[stack.pop()]</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> stack:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">## the horizontal distance</span></span><br><span class="line">                distance = curr - stack[-<span class="number">1</span>] - <span class="number">1</span> </span><br><span class="line">                lm = <span class="built_in">min</span>(height[stack[-<span class="number">1</span>]], height[curr])</span><br><span class="line">                res += distance * (lm - h)</span><br><span class="line">            </span><br><span class="line">            <span class="comment">## if next is smaller then add onto the stack</span></span><br><span class="line">            stack.append(curr)</span><br><span class="line">            curr += <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<h1 id="43-Multiple-Strings"><a href="#43-Multiple-Strings" class="headerlink" title="43. Multiple Strings"></a>43. Multiple Strings</h1><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/multiply-strings/description/">https://leetcode.com/problems/multiply-strings/description/</a></p>
<blockquote>
<p>Solution 1: double loop</p>
<p>Time Complexity: O(n**2)</p>
<p>Space Complexity: O(1)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">multiply</span>(<span class="params">self, num1: <span class="built_in">str</span>, num2: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        </span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(num1)):</span><br><span class="line">            tmp = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(num2)):</span><br><span class="line">                tmp *= <span class="number">10</span></span><br><span class="line">                tmp += <span class="built_in">int</span>(num1[i]) * <span class="built_in">int</span>(num2[j])</span><br><span class="line">            res *= <span class="number">10</span></span><br><span class="line">            res += tmp</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">str</span>(res)</span><br></pre></td></tr></table></figure>
<h1 id="44-Wildcard-Matching"><a href="#44-Wildcard-Matching" class="headerlink" title="44. Wildcard Matching"></a>44. Wildcard Matching</h1>
    </div>

    <div>
      
        <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------Ending<i class="fa fa-paw"></i>Thanks-------------</div>
    
</div>
      
    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/11/25/Data-Streams/" rel="prev" title="Data Streams">
      <i class="fa fa-chevron-left"></i> Data Streams
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/12/19/Java/" rel="next" title="Java">
      Java <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-Two-Sum"><span class="nav-number">1.</span> <span class="nav-text">1.Two Sum</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-Add-Two-Numbers"><span class="nav-number">2.</span> <span class="nav-text">2.Add Two Numbers</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-Longest-Substring-Without-Repeating"><span class="nav-number">3.</span> <span class="nav-text">3. Longest Substring Without Repeating</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-Median-of-Two-Sorted-Arrays"><span class="nav-number">4.</span> <span class="nav-text">4.Median of Two Sorted Arrays</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-palindromic-characteristics"><span class="nav-number">5.</span> <span class="nav-text">5.palindromic characteristics</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6-Zigzag-Conversion"><span class="nav-number">6.</span> <span class="nav-text">6.Zigzag Conversion</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#7-Reverse-Integer"><span class="nav-number">7.</span> <span class="nav-text">7. Reverse Integer</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#8-String-to-Integer"><span class="nav-number">8.</span> <span class="nav-text">8.String to Integer</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#9-Parlindrome-Number"><span class="nav-number">9.</span> <span class="nav-text">9.Parlindrome Number</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#10-Regular-Expression"><span class="nav-number">10.</span> <span class="nav-text">10. Regular Expression</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#11-Container-With-Most-Water"><span class="nav-number">11.</span> <span class="nav-text">11. Container With Most Water</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#12-Integer-to-Roman"><span class="nav-number">12.</span> <span class="nav-text">12. Integer to Roman</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#13-Roman-to-Integer"><span class="nav-number">13.</span> <span class="nav-text">13. Roman to Integer</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#14-Longest-Common-Prefix"><span class="nav-number">14.</span> <span class="nav-text">14. Longest Common Prefix</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#15-3SUM"><span class="nav-number">15.</span> <span class="nav-text">15. 3SUM</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#16-3Sum-Closest"><span class="nav-number">16.</span> <span class="nav-text">16. 3Sum Closest</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#17-Letter-Combinations-of-a-Phone-Number"><span class="nav-number">17.</span> <span class="nav-text">17. Letter Combinations of a Phone Number</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#18-4SUM"><span class="nav-number">18.</span> <span class="nav-text">18. 4SUM</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#19-Remove-Nth-Node-From-End-of-List"><span class="nav-number">19.</span> <span class="nav-text">19.Remove Nth Node From End of List</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#20-Valid-Parentheses"><span class="nav-number">20.</span> <span class="nav-text">20.Valid Parentheses</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#21-Merge-Two-Sorted-Lists"><span class="nav-number">21.</span> <span class="nav-text">21.Merge Two Sorted Lists</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#22-Generate-Parenthese"><span class="nav-number">22.</span> <span class="nav-text">22 Generate Parenthese</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#23-Merge-k-Sorted-Lists"><span class="nav-number">23.</span> <span class="nav-text">23. Merge k Sorted Lists</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#24-Swap-Nodes-in-Pairs"><span class="nav-number">24.</span> <span class="nav-text">24.Swap Nodes in Pairs</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#25-Reverse-Nodes-in-k-Group"><span class="nav-number">25.</span> <span class="nav-text">25.Reverse Nodes in k-Group</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#26-Remove-Duplicates-from-Sorted-Array"><span class="nav-number">26.</span> <span class="nav-text">26.Remove Duplicates from Sorted Array</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#27-Remove-Element"><span class="nav-number">27.</span> <span class="nav-text">27. Remove Element</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#28-Find-the-Index-of-the-First-Occurrence-in-a-String"><span class="nav-number">28.</span> <span class="nav-text">28. Find the Index of the First Occurrence in a String</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#29-Divde-Two-Integers"><span class="nav-number">29.</span> <span class="nav-text">29. Divde Two Integers</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#30-Substring-with-Concatenation-of-All-Words"><span class="nav-number">30.</span> <span class="nav-text">30.Substring with Concatenation of All Words</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#31-Next-Permutation"><span class="nav-number">31.</span> <span class="nav-text">31. Next Permutation</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#32-Longest-Valid-Parentheses"><span class="nav-number">32.</span> <span class="nav-text">32.Longest Valid Parentheses</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#33-Search-in-Rotated-Sorted-Array"><span class="nav-number">33.</span> <span class="nav-text">33. Search in Rotated Sorted Array</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#34-Find-First-and-Last-Position-of-Element-in-Sorted-Array"><span class="nav-number">34.</span> <span class="nav-text">34. Find First and Last Position of Element in Sorted Array</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#35-Search-Insert-Position"><span class="nav-number">35.</span> <span class="nav-text">35. Search Insert Position</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#36-Valid-Sudoku"><span class="nav-number">36.</span> <span class="nav-text">36.Valid Sudoku</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#37-Sudoku-Solver"><span class="nav-number">37.</span> <span class="nav-text">37. Sudoku Solver</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#38-Count-and-Say"><span class="nav-number">38.</span> <span class="nav-text">38. Count and Say</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#39-Combination-Sum"><span class="nav-number">39.</span> <span class="nav-text">39. Combination Sum</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#40-Combination-Sum-II"><span class="nav-number">40.</span> <span class="nav-text">40.Combination Sum II</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#41-First-Missing-Positive"><span class="nav-number">41.</span> <span class="nav-text">41  First Missing Positive</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#42-Trapping-Rain-Water"><span class="nav-number">42.</span> <span class="nav-text">42. Trapping Rain Water</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#43-Multiple-Strings"><span class="nav-number">43.</span> <span class="nav-text">43. Multiple Strings</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#44-Wildcard-Matching"><span class="nav-number">44.</span> <span class="nav-text">44. Wildcard Matching</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <!--
  <p class="site-author-name" itemprop="name">Haoyu Li</p>
  -->
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">11</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Haoyu Li</span>
</div>

<div class="powered-by">
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <i class="fa fa-user-md"></i>
    <span id="busuanzi_container_site_uv">
        本站访客数:<span id="busuanzi_value_site_uv"></span>
    </span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_pv">
        本站访问量<span id="busuanzi_value_site_pv"></span>
    </span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  


  <script async src="/js/cursor/fireworks.js"></script>

</body>
</html>
